{"version":3,"names":["raulBulkActionBarCss","RaulBulkActionBar","hostRef","this","buttonWidths","toggleOverflow","selectedCount","totalRecords","open","showTray","prototype","openChanged","_this","getButtonWidths","handelMoreButtons","bulkActionEl","querySelectorAll","setTimeout","handleResize","length","buttons","forEach","button","thisButton","push","offsetWidth","closeBar","bulkActionsClose","emit","debounce","func","delay","inDebounce","context","args","arguments","clearTimeout","apply","toggleTray","element","window","addEventListener","e","tray","moreTray","contains","target","classList","leftSideWidth","querySelector","buttonsInTray","buttonsNotInTray","visibleButtonTotalWidth","maxButtonWidth","Math","max","index","appendChild","add","remove","render","h","class","ref","el","variant","size","onClick","type","bulkActionsSelectAll","icon"],"sources":["node_modules/@realpage/raul3/collection/components/elements/raul-bulk-action-bar/raul-bulk-action-bar.css?tag=raul-bulk-action-bar","node_modules/@realpage/raul3/collection/components/elements/raul-bulk-action-bar/raul-bulk-action-bar.js"],"sourcesContent":["raul-bulk-action-bar {\n  display: block;\n  font-size: 0.875rem;\n}\n\nraul-bulk-action-bar .r-bulk-actions {\n  bottom: 0;\n  color: #fff;\n  left: 0;\n  position: fixed;\n  width: 100%;\n  max-height: 0;\n  transition: max-height 0.35s;\n  z-index: 1010;\n}\n\nraul-bulk-action-bar .r-bulk-actions--expanded {\n  max-height: 3rem;\n}\n\n@media (min-width: 768px) {\n  raul-bulk-action-bar .r-bulk-actions {\n    position: relative;\n    bottom: auto;\n  }\n}\n\nraul-bulk-action-bar .r-bulk-actions__wrapper {\n  align-items: center;\n  display: flex;\n  flex-wrap: nowrap;\n  position: relative;\n  padding: 0.5rem;\n  background-color: #0076CC;\n  height: 3rem;\n}\n\nraul-bulk-action-bar .r-bulk-actions__left {\n  display: flex;\n  margin-right: auto;\n  flex-grow: 1;\n}\n\nraul-bulk-action-bar .r-bulk-actions__buttons-wrapper {\n  display: inline-block;\n}\n\nraul-bulk-action-bar .r-bulk-actions__buttons-wrapper .r-button {\n  margin-right: 0.5rem;\n}\n\nraul-bulk-action-bar .r-bulk-actions__more {\n  display: inline-block;\n  position: relative;\n}\n\nraul-bulk-action-bar .r-bulk-actions__button-more {\n  visibility: hidden;\n}\n\nraul-bulk-action-bar .r-bulk-actions__button-more--show {\n  visibility: visible;\n}\n\nraul-bulk-action-bar .r-bulk-actions__right {\n  align-items: center;\n  display: flex;\n  font-size: 0.75rem;\n  justify-content: flex-end;\n  flex: 0 0 auto;\n  max-width: 265px;\n  min-width: 55px;\n}\n\nraul-bulk-action-bar .r-bulk-actions__selected-count {\n  font-size: 0.75rem;\n}\n\nraul-bulk-action-bar .r-bulk-actions__select-all {\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n  display: none;\n}\n\nraul-bulk-action-bar .r-bulk-actions__select-all:hover {\n  text-decoration: underline;\n}\n\nraul-bulk-action-bar .r-bulk-actions__select-all::after {\n  display: inline-block;\n  margin-left: 0.5rem;\n  content: \"|\";\n}\n\n@media only screen and (min-width: 768px) {\n  raul-bulk-action-bar .r-bulk-actions__select-all {\n    display: inline-block;\n  }\n}\n\nraul-bulk-action-bar .r-bulk-actions__close {\n  padding: 0.75rem;\n}\n\nraul-bulk-action-bar .r-bulk-actions__close raul-icon {\n  font-size: 0.875rem;\n}\n\nraul-bulk-action-bar .r-bulk-actions__more-tray {\n  left: 0;\n  overflow: hidden;\n  padding-top: 0.5rem;\n  padding-left: 0.5rem;\n  padding-right: 0;\n  padding-bottom: 0;\n  position: fixed;\n  width: 100%;\n  background: #37474F;\n  bottom: -100%;\n  min-height: 48px;\n  transition: bottom 0.35s;\n  z-index: -1;\n}\n\nraul-bulk-action-bar .r-bulk-actions__more-tray--show {\n  bottom: 48px;\n}\n\nraul-bulk-action-bar .r-bulk-actions__more-tray raul-button {\n  margin-bottom: 0.5rem;\n  margin-right: 0.5rem;\n}\n\n@media (min-width: 768px) {\n  raul-bulk-action-bar .r-bulk-actions__more-tray {\n    background-color: #fff;\n    border-radius: 0.125rem;\n    bottom: auto;\n    display: none;\n    padding-top: 0.5rem;\n    padding-bottom: 0.5rem;\n    padding-left: 0;\n    padding-right: 0;\n    position: absolute;\n    right: auto;\n    vertical-align: middle;\n    box-shadow: 0 8px 16px 0 rgba(82, 97, 115, 0.18);\n    top: 36px;\n    width: 180px;\n    z-index: 2000;\n  }\n\n  raul-bulk-action-bar .r-bulk-actions__more-tray--show {\n    display: block;\n    bottom: auto;\n  }\n\n  raul-bulk-action-bar .r-bulk-actions__more-tray raul-button {\n    display: block;\n    margin-right: 0;\n  }\n\n  raul-bulk-action-bar .r-bulk-actions__more-tray raul-button .r-button--reverse .r-button__content {\n    align-items: center;\n    background-color: transparent;\n    display: flex;\n    font-size: 0.75rem;\n    font-weight: 400;\n    justify-content: flex-start;\n    padding-top: 0;\n    padding-bottom: 0;\n    padding-left: 1rem;\n    padding-right: 1rem;\n    color: #37474F;\n    min-height: 32px;\n  }\n\n  raul-bulk-action-bar .r-bulk-actions__more-tray raul-button .r-button--reverse .r-button__focus-ring * {\n    display: none;\n  }\n\n  raul-bulk-action-bar .r-bulk-actions__more-tray raul-button .r-button--reverse .r-button__element:hover ~ .r-button__content {\n    background-color: transparent;\n    text-decoration: underline;\n  }\n\n  raul-bulk-action-bar .r-bulk-actions__more-tray raul-button .r-button--reverse .r-button__content::before {\n    border-color: #0076CC !important;\n    border-radius: 0 !important;\n    top: 2px !important;\n    right: 2px !important;\n    bottom: 2px !important;\n    left: 2px !important;\n  }\n}","import { h } from \"@stencil/core\";\r\nexport class RaulBulkActionBar {\r\n    constructor() {\r\n        this.buttonWidths = [];\r\n        this.toggleOverflow = false;\r\n        this.selectedCount = 0;\r\n        this.totalRecords = 0;\r\n        this.open = false;\r\n        this.showTray = false;\r\n    }\r\n    openChanged() {\r\n        if (this.open) {\r\n            this.getButtonWidths();\r\n            this.handelMoreButtons(this.bulkActionEl, this.buttonWidths, this.bulkActionEl.querySelectorAll('.r-bulk-actions__left raul-button, .r-bulk-actions__more-tray raul-button'));\r\n            setTimeout(() => {\r\n                this.toggleOverflow = true;\r\n            }, 350);\r\n        }\r\n        else {\r\n            this.toggleOverflow = false;\r\n            // Reset buttons\r\n            setTimeout(() => {\r\n                this.buttonWidths = [];\r\n                this.handelMoreButtons(this.bulkActionEl, this.buttonWidths, this.bulkActionEl.querySelectorAll('.r-bulk-actions__left raul-button, .r-bulk-actions__more-tray raul-button'));\r\n            }, 350);\r\n        }\r\n    }\r\n    handleResize() {\r\n        if (this.buttonWidths.length > 0)\r\n            this.handelMoreButtons(this.bulkActionEl, this.buttonWidths, this.bulkActionEl.querySelectorAll('.r-bulk-actions__left raul-button, .r-bulk-actions__more-tray raul-button'));\r\n    }\r\n    getButtonWidths() {\r\n        let buttons = this.bulkActionEl.querySelectorAll('.r-bulk-actions__left raul-button, .r-bulk-actions__more-tray raul-button');\r\n        this.buttonWidths = [];\r\n        buttons.forEach((button) => {\r\n            let thisButton = button;\r\n            this.buttonWidths.push(thisButton.offsetWidth);\r\n        });\r\n    }\r\n    closeBar() {\r\n        this.open = this.showTray = false;\r\n        this.bulkActionsClose.emit();\r\n    }\r\n    debounce(func, delay) {\r\n        let inDebounce;\r\n        return function () {\r\n            const context = this;\r\n            const args = arguments;\r\n            clearTimeout(inDebounce);\r\n            inDebounce = setTimeout(() => func.apply(context, args), delay);\r\n        };\r\n    }\r\n    toggleTray() {\r\n        this.showTray = !this.showTray;\r\n    }\r\n    handelMoreButtons(element, buttonWidths, buttons) {\r\n        window.addEventListener('click', (e) => {\r\n            let tray = this.moreTray;\r\n            // @ts-ignore\r\n            if (tray && (!tray.contains(e.target) || e.target.classList.contains('r-button__element'))) {\r\n                this.showTray = false;\r\n            }\r\n        }, true);\r\n        let leftSideWidth = element.querySelector('.r-bulk-actions__left').offsetWidth;\r\n        this.buttonsInTray = [];\r\n        let buttonsNotInTray = [];\r\n        let visibleButtonTotalWidth = 0;\r\n        let maxButtonWidth = Math.max(...buttonWidths);\r\n        buttons.forEach((button, index) => {\r\n            if (!button.classList.contains('r-bulk-actions__button-more')) {\r\n                visibleButtonTotalWidth = visibleButtonTotalWidth + buttonWidths[index] + 8;\r\n                if ((visibleButtonTotalWidth + maxButtonWidth) > leftSideWidth) {\r\n                    this.buttonsInTray.push(button);\r\n                }\r\n                else {\r\n                    buttonsNotInTray.push(button);\r\n                }\r\n            }\r\n        });\r\n        this.buttonsInTray.forEach((button) => {\r\n            this.moreTray.appendChild(button);\r\n        });\r\n        buttonsNotInTray.forEach((button) => {\r\n            element.querySelector('.r-bulk-actions__buttons-wrapper').appendChild(button);\r\n        });\r\n        if (this.buttonsInTray.length > 0) {\r\n            element.querySelector('.r-bulk-actions__button-more').classList.add('r-bulk-actions__button-more--show');\r\n        }\r\n        else {\r\n            element.querySelector('.r-bulk-actions__button-more').classList.remove('r-bulk-actions__button-more--show');\r\n        }\r\n    }\r\n    render() {\r\n        return (h(\"div\", { class: {\r\n                'r-bulk-actions': true,\r\n                'r-bulk-actions--expanded': this.open,\r\n                'r-overflow-visible': this.toggleOverflow,\r\n                'r-overflow-hidden': !this.toggleOverflow,\r\n            }, ref: (el) => this.bulkActionEl = el },\r\n            h(\"div\", { class: \"r-bulk-actions__wrapper\" },\r\n                h(\"div\", { class: \"r-bulk-actions__left\" },\r\n                    h(\"div\", { class: \"r-bulk-actions__buttons-wrapper\" },\r\n                        h(\"slot\", null)),\r\n                    h(\"div\", { class: \"r-bulk-actions__more\" },\r\n                        h(\"raul-button\", { class: \"r-bulk-actions__button-more\", variant: \"reverse\", size: \"small\", onClick: () => this.toggleTray() }, \"More\"),\r\n                        h(\"div\", { class: {\r\n                                'r-bulk-actions__more-tray': true,\r\n                                'r-bulk-actions__more-tray--show': this.showTray,\r\n                            }, ref: (el) => this.moreTray = el }))),\r\n                h(\"div\", { class: \"r-bulk-actions__right\" },\r\n                    h(\"button\", { type: \"button\", class: \"r-bulk-actions__select-all\", onClick: () => this.bulkActionsSelectAll.emit() },\r\n                        \"Select all \",\r\n                        this.totalRecords,\r\n                        \" records\"),\r\n                    h(\"span\", { class: \"r-bulk-actions__selected-count\" },\r\n                        this.selectedCount,\r\n                        \" Selected\"),\r\n                    h(\"button\", { type: \"button\", class: \"r-bulk-actions__close\", onClick: () => this.closeBar() },\r\n                        h(\"raul-icon\", { icon: \"close\" }))))));\r\n    }\r\n    static get is() { return \"raul-bulk-action-bar\"; }\r\n    static get originalStyleUrls() { return {\r\n        \"$\": [\"raul-bulk-action-bar.scss\"]\r\n    }; }\r\n    static get styleUrls() { return {\r\n        \"$\": [\"raul-bulk-action-bar.css\"]\r\n    }; }\r\n    static get properties() { return {\r\n        \"selectedCount\": {\r\n            \"type\": \"number\",\r\n            \"mutable\": false,\r\n            \"complexType\": {\r\n                \"original\": \"number\",\r\n                \"resolved\": \"number\",\r\n                \"references\": {}\r\n            },\r\n            \"required\": false,\r\n            \"optional\": true,\r\n            \"docs\": {\r\n                \"tags\": [],\r\n                \"text\": \"\"\r\n            },\r\n            \"attribute\": \"selected-count\",\r\n            \"reflect\": true,\r\n            \"defaultValue\": \"0\"\r\n        },\r\n        \"totalRecords\": {\r\n            \"type\": \"number\",\r\n            \"mutable\": false,\r\n            \"complexType\": {\r\n                \"original\": \"number\",\r\n                \"resolved\": \"number\",\r\n                \"references\": {}\r\n            },\r\n            \"required\": false,\r\n            \"optional\": true,\r\n            \"docs\": {\r\n                \"tags\": [],\r\n                \"text\": \"\"\r\n            },\r\n            \"attribute\": \"total-records\",\r\n            \"reflect\": true,\r\n            \"defaultValue\": \"0\"\r\n        },\r\n        \"open\": {\r\n            \"type\": \"boolean\",\r\n            \"mutable\": false,\r\n            \"complexType\": {\r\n                \"original\": \"boolean\",\r\n                \"resolved\": \"boolean\",\r\n                \"references\": {}\r\n            },\r\n            \"required\": false,\r\n            \"optional\": false,\r\n            \"docs\": {\r\n                \"tags\": [],\r\n                \"text\": \"\"\r\n            },\r\n            \"attribute\": \"open\",\r\n            \"reflect\": true,\r\n            \"defaultValue\": \"false\"\r\n        }\r\n    }; }\r\n    static get states() { return {\r\n        \"buttonsInTray\": {},\r\n        \"showTray\": {}\r\n    }; }\r\n    static get events() { return [{\r\n            \"method\": \"bulkActionsClose\",\r\n            \"name\": \"bulkActionsClose\",\r\n            \"bubbles\": true,\r\n            \"cancelable\": true,\r\n            \"composed\": true,\r\n            \"docs\": {\r\n                \"tags\": [],\r\n                \"text\": \"\"\r\n            },\r\n            \"complexType\": {\r\n                \"original\": \"any\",\r\n                \"resolved\": \"any\",\r\n                \"references\": {}\r\n            }\r\n        }, {\r\n            \"method\": \"bulkActionsSelectAll\",\r\n            \"name\": \"bulkActionsSelectAll\",\r\n            \"bubbles\": true,\r\n            \"cancelable\": true,\r\n            \"composed\": true,\r\n            \"docs\": {\r\n                \"tags\": [],\r\n                \"text\": \"\"\r\n            },\r\n            \"complexType\": {\r\n                \"original\": \"any\",\r\n                \"resolved\": \"any\",\r\n                \"references\": {}\r\n            }\r\n        }]; }\r\n    static get watchers() { return [{\r\n            \"propName\": \"open\",\r\n            \"methodName\": \"openChanged\"\r\n        }]; }\r\n    static get listeners() { return [{\r\n            \"name\": \"resize\",\r\n            \"method\": \"handleResize\",\r\n            \"target\": \"window\",\r\n            \"capture\": false,\r\n            \"passive\": true\r\n        }]; }\r\n}\r\n"],"mappings":"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"}