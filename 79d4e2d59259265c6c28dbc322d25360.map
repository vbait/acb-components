{"version":3,"names":["getArrowDimensions","arrowEl","arrowWidth","arrowHeight","_c","getBoundingClientRect","width","height","getPopoverDimensions","size","contentEl","triggerEl","contentDimentions","contentHeight","contentWidth","triggerDimensions","configureDismissInteraction","triggerAction","popoverEl","parentPopoverEl","dismissCallbacks","root","getElementRoot","parentContentEl","querySelector","eventName","callback","ev","element","document","elementFromPoint","clientX","clientY","dismiss","undefined","target","closestTrigger","closest","stopPropagation","forEach","addEventListener","removeEventListener","configureTriggerInteraction","triggerCallbacks","hoverTimeout_1","__awaiter","clearTimeout","setTimeout","raf","presentFromTrigger","relatedTarget","preventDefault","setAttribute","removeAttribute","getIndexOfItem","items","item","tagName","findIndex","el","getNextItem","currentItem","currentItemIndex","getPrevItem","focusItem","button","focus","isTriggerElement","hasAttribute","configureKeyboardInteraction","activeElement","targetTagName","_a","Array","from","querySelectorAll","_b","key","getParentPopover","parentPopover","_d","sent","nextItem","prevItem","firstItem","lastItem","length","rightEvent","CustomEvent","dispatchEvent","getPopoverPosition","isRTL","reference","side","align","defaultPosition","event","referenceCoordinates","top","left","mouseEv","customEv","actualTriggerEl","detail","ionShadowTarget","triggerBoundingBox","coordinates","calculatePopoverSide","alignedCoordinates","calculatePopoverAlign","calculateArrowPosition","arrowTop","arrowLeft","calculatePopoverOrigin","originX","originY","getOriginXAlignment","getOriginYAlignment","leftPosition","rightPosition","sideLeft","sideRight","calculatePopoverCenterAlign","calculatePopoverEndAlign","calculateWindowAdjustment","coordTop","coordLeft","bodyPadding","bodyWidth","bodyHeight","safeAreaMargin","contentOriginX","contentOriginY","triggerCoordinates","coordArrowTop","coordArrowLeft","bottom","checkSafeAreaLeft","checkSafeAreaRight","triggerTop","triggerHeight","addPopoverBottomClass","Math","max","shouldShowArrow","didAdjustBounds","trigger","POPOVER_IOS_BODY_PADDING","iosEnterAnimation","baseEl","opts","doc","ownerDocument","dir","defaultView","innerWidth","innerHeight","referenceSizeEl","results","padding","margin","_e","baseAnimation","createAnimation","backdropAnimation","wrapperAnimation","addElement","fromTo","beforeStyles","afterClearStyles","easing","duration","beforeAddWrite","style","setProperty","concat","classList","add","safeAreaLeft","safeAreaRight","leftValue","showArrow","addAnimation","iosLeaveAnimation","afterAddWrite","removeProperty","remove","POPOVER_MD_BODY_PADDING","mdEnterAnimation","contentAnimation","viewportAnimation","mdLeaveAnimation","popoverIosCss","popoverMdCss","Popover","class_1","hostRef","_this","this","popoverIndex","popoverIds","coreDelegate","CoreDelegate","inline","focusDescendantOnPresent","presented","hasController","keyboardClose","backdropDismiss","showBackdrop","translucent","animated","dismissOnSelect","arrow","isOpen","keyboardEvents","keepContentsMounted","onBackdropTap","BACKDROP","onLifecycle","modalEvent","usersElement","name","LIFECYCLE_MAP","type","bubbles","cancelable","destroyTriggerInteraction","getElementById","printIonWarning","destroyKeyboardInteraction","destroyDismissInteraction","prototype","onTriggerChange","onIsOpenChange","newValue","oldValue","present","connectedCallback","prepareOverlay","disconnectedCallback","componentWillLoad","popoverId","getAttribute","alignment","getIonMode","componentDidLoad","focusDescendant","getDelegate","force","workingDelegate","delegate","parentEl","parentNode","currentTransition","attachComponent","component","componentProps","deepReady","ionMount","emit","Promise","resolve","focusFirstDescendant","data","role","dismissParentPopover","shouldDismiss","detachComponent","onDidDismiss","eventMethod","onWillDismiss","render","mode","htmlAttributes","desktop","isPlatform","enableArrow","h","Host","Object","assign","tabindex","zIndex","overlayIndex","id","class","getClassMap","cssClass","onIonPopoverDidPresent","onIonPopoverWillPresent","onIonPopoverWillDismiss","onIonPopoverDidDismiss","onIonBackdropTap","tappable","visible","part","onClick","ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss"],"sources":["node_modules/@ionic/core/dist/collection/components/popover/utils.js","node_modules/@ionic/core/dist/collection/components/popover/animations/ios.enter.js","node_modules/@ionic/core/dist/collection/components/popover/animations/ios.leave.js","node_modules/@ionic/core/dist/collection/components/popover/animations/md.enter.js","node_modules/@ionic/core/dist/collection/components/popover/animations/md.leave.js","node_modules/@ionic/core/dist/collection/components/popover/popover.ios.css?tag=ion-popover&mode=ios&encapsulation=shadow","node_modules/@ionic/core/dist/collection/components/popover/popover.md.css?tag=ion-popover&mode=md&encapsulation=shadow","node_modules/@ionic/core/dist/collection/components/popover/popover.js"],"sourcesContent":["/*!\n * (C) Ionic http://ionicframework.com - MIT License\n */\nimport { getElementRoot, raf } from '../../utils/helpers';\n/**\n * Returns the dimensions of the popover\n * arrow on `ios` mode. If arrow is disabled\n * returns (0, 0).\n */\nexport const getArrowDimensions = (arrowEl) => {\n  if (!arrowEl) {\n    return { arrowWidth: 0, arrowHeight: 0 };\n  }\n  const { width, height } = arrowEl.getBoundingClientRect();\n  return { arrowWidth: width, arrowHeight: height };\n};\n/**\n * Returns the recommended dimensions of the popover\n * that takes into account whether or not the width\n * should match the trigger width.\n */\nexport const getPopoverDimensions = (size, contentEl, triggerEl) => {\n  const contentDimentions = contentEl.getBoundingClientRect();\n  const contentHeight = contentDimentions.height;\n  let contentWidth = contentDimentions.width;\n  if (size === 'cover' && triggerEl) {\n    const triggerDimensions = triggerEl.getBoundingClientRect();\n    contentWidth = triggerDimensions.width;\n  }\n  return {\n    contentWidth,\n    contentHeight,\n  };\n};\nexport const configureDismissInteraction = (triggerEl, triggerAction, popoverEl, parentPopoverEl) => {\n  let dismissCallbacks = [];\n  const root = getElementRoot(parentPopoverEl);\n  const parentContentEl = root.querySelector('.popover-content');\n  switch (triggerAction) {\n    case 'hover':\n      dismissCallbacks = [\n        {\n          /**\n           * Do not use mouseover here\n           * as this will causes the event to\n           * be dispatched on each underlying\n           * element rather than on the popover\n           * content as a whole.\n           */\n          eventName: 'mouseenter',\n          callback: (ev) => {\n            /**\n             * Do not dismiss the popover is we\n             * are hovering over its trigger.\n             * This would be easier if we used mouseover\n             * but this would cause the event to be dispatched\n             * more often than we would like, potentially\n             * causing performance issues.\n             */\n            const element = document.elementFromPoint(ev.clientX, ev.clientY);\n            if (element === triggerEl) {\n              return;\n            }\n            popoverEl.dismiss(undefined, undefined, false);\n          },\n        },\n      ];\n      break;\n    case 'context-menu':\n    case 'click':\n    default:\n      dismissCallbacks = [\n        {\n          eventName: 'click',\n          callback: (ev) => {\n            /**\n             * Do not dismiss the popover is we\n             * are hovering over its trigger.\n             */\n            const target = ev.target;\n            const closestTrigger = target.closest('[data-ion-popover-trigger]');\n            if (closestTrigger === triggerEl) {\n              /**\n               * stopPropagation here so if the\n               * popover has dismissOnSelect=\"true\"\n               * the popover does not dismiss since\n               * we just clicked a trigger element.\n               */\n              ev.stopPropagation();\n              return;\n            }\n            popoverEl.dismiss(undefined, undefined, false);\n          },\n        },\n      ];\n      break;\n  }\n  dismissCallbacks.forEach(({ eventName, callback }) => parentContentEl.addEventListener(eventName, callback));\n  return () => {\n    dismissCallbacks.forEach(({ eventName, callback }) => parentContentEl.removeEventListener(eventName, callback));\n  };\n};\n/**\n * Configures the triggerEl to respond\n * to user interaction based upon the triggerAction\n * prop that devs have defined.\n */\nexport const configureTriggerInteraction = (triggerEl, triggerAction, popoverEl) => {\n  let triggerCallbacks = [];\n  /**\n   * Based upon the kind of trigger interaction\n   * the user wants, we setup the correct event\n   * listeners.\n   */\n  switch (triggerAction) {\n    case 'hover':\n      let hoverTimeout;\n      triggerCallbacks = [\n        {\n          eventName: 'mouseenter',\n          callback: async (ev) => {\n            ev.stopPropagation();\n            if (hoverTimeout) {\n              clearTimeout(hoverTimeout);\n            }\n            /**\n             * Hovering over a trigger should not\n             * immediately open the next popover.\n             */\n            hoverTimeout = setTimeout(() => {\n              raf(() => {\n                popoverEl.presentFromTrigger(ev);\n                hoverTimeout = undefined;\n              });\n            }, 100);\n          },\n        },\n        {\n          eventName: 'mouseleave',\n          callback: (ev) => {\n            if (hoverTimeout) {\n              clearTimeout(hoverTimeout);\n            }\n            /**\n             * If mouse is over another popover\n             * that is not this popover then we should\n             * close this popover.\n             */\n            const target = ev.relatedTarget;\n            if (!target) {\n              return;\n            }\n            if (target.closest('ion-popover') !== popoverEl) {\n              popoverEl.dismiss(undefined, undefined, false);\n            }\n          },\n        },\n        {\n          /**\n           * stopPropagation here prevents the popover\n           * from dismissing when dismiss-on-select=\"true\".\n           */\n          eventName: 'click',\n          callback: (ev) => ev.stopPropagation(),\n        },\n        {\n          eventName: 'ionPopoverActivateTrigger',\n          callback: (ev) => popoverEl.presentFromTrigger(ev, true),\n        },\n      ];\n      break;\n    case 'context-menu':\n      triggerCallbacks = [\n        {\n          eventName: 'contextmenu',\n          callback: (ev) => {\n            /**\n             * Prevents the platform context\n             * menu from appearing.\n             */\n            ev.preventDefault();\n            popoverEl.presentFromTrigger(ev);\n          },\n        },\n        {\n          eventName: 'click',\n          callback: (ev) => ev.stopPropagation(),\n        },\n        {\n          eventName: 'ionPopoverActivateTrigger',\n          callback: (ev) => popoverEl.presentFromTrigger(ev, true),\n        },\n      ];\n      break;\n    case 'click':\n    default:\n      triggerCallbacks = [\n        {\n          /**\n           * Do not do a stopPropagation() here\n           * because if you had two click triggers\n           * then clicking the first trigger and then\n           * clicking the second trigger would not cause\n           * the first popover to dismiss.\n           */\n          eventName: 'click',\n          callback: (ev) => popoverEl.presentFromTrigger(ev),\n        },\n        {\n          eventName: 'ionPopoverActivateTrigger',\n          callback: (ev) => popoverEl.presentFromTrigger(ev, true),\n        },\n      ];\n      break;\n  }\n  triggerCallbacks.forEach(({ eventName, callback }) => triggerEl.addEventListener(eventName, callback));\n  triggerEl.setAttribute('data-ion-popover-trigger', 'true');\n  return () => {\n    triggerCallbacks.forEach(({ eventName, callback }) => triggerEl.removeEventListener(eventName, callback));\n    triggerEl.removeAttribute('data-ion-popover-trigger');\n  };\n};\n/**\n * Returns the index of an ion-item in an array of ion-items.\n */\nexport const getIndexOfItem = (items, item) => {\n  if (!item || item.tagName !== 'ION-ITEM') {\n    return -1;\n  }\n  return items.findIndex((el) => el === item);\n};\n/**\n * Given an array of elements and a currently focused ion-item\n * returns the next ion-item relative to the focused one or\n * undefined.\n */\nexport const getNextItem = (items, currentItem) => {\n  const currentItemIndex = getIndexOfItem(items, currentItem);\n  return items[currentItemIndex + 1];\n};\n/**\n * Given an array of elements and a currently focused ion-item\n * returns the previous ion-item relative to the focused one or\n * undefined.\n */\nexport const getPrevItem = (items, currentItem) => {\n  const currentItemIndex = getIndexOfItem(items, currentItem);\n  return items[currentItemIndex - 1];\n};\n/** Focus the internal button of the ion-item */\nconst focusItem = (item) => {\n  const root = getElementRoot(item);\n  const button = root.querySelector('button');\n  if (button) {\n    raf(() => button.focus());\n  }\n};\n/**\n * Returns `true` if `el` has been designated\n * as a trigger element for an ion-popover.\n */\nexport const isTriggerElement = (el) => el.hasAttribute('data-ion-popover-trigger');\nexport const configureKeyboardInteraction = (popoverEl) => {\n  const callback = async (ev) => {\n    var _a;\n    const activeElement = document.activeElement;\n    let items = [];\n    const targetTagName = (_a = ev.target) === null || _a === void 0 ? void 0 : _a.tagName;\n    /**\n     * Only handle custom keyboard interactions for the host popover element\n     * and children ion-item elements.\n     */\n    if (targetTagName !== 'ION-POPOVER' && targetTagName !== 'ION-ITEM') {\n      return;\n    }\n    /**\n     * Complex selectors with :not() are :not supported\n     * in older versions of Chromium so we need to do a\n     * try/catch here so errors are not thrown.\n     */\n    try {\n      /**\n       * Select all ion-items that are not children of child popovers.\n       * i.e. only select ion-item elements that are part of this popover\n       */\n      items = Array.from(popoverEl.querySelectorAll('ion-item:not(ion-popover ion-popover *):not([disabled])'));\n      /* eslint-disable-next-line */\n    }\n    catch (_b) { }\n    switch (ev.key) {\n      /**\n       * If we are in a child popover\n       * then pressing the left arrow key\n       * should close this popover and move\n       * focus to the popover that presented\n       * this one.\n       */\n      case 'ArrowLeft':\n        const parentPopover = await popoverEl.getParentPopover();\n        if (parentPopover) {\n          popoverEl.dismiss(undefined, undefined, false);\n        }\n        break;\n      /**\n       * ArrowDown should move focus to the next focusable ion-item.\n       */\n      case 'ArrowDown':\n        // Disable movement/scroll with keyboard\n        ev.preventDefault();\n        const nextItem = getNextItem(items, activeElement);\n        if (nextItem !== undefined) {\n          focusItem(nextItem);\n        }\n        break;\n      /**\n       * ArrowUp should move focus to the previous focusable ion-item.\n       */\n      case 'ArrowUp':\n        // Disable movement/scroll with keyboard\n        ev.preventDefault();\n        const prevItem = getPrevItem(items, activeElement);\n        if (prevItem !== undefined) {\n          focusItem(prevItem);\n        }\n        break;\n      /**\n       * Home should move focus to the first focusable ion-item.\n       */\n      case 'Home':\n        ev.preventDefault();\n        const firstItem = items[0];\n        if (firstItem !== undefined) {\n          focusItem(firstItem);\n        }\n        break;\n      /**\n       * End should move focus to the last focusable ion-item.\n       */\n      case 'End':\n        ev.preventDefault();\n        const lastItem = items[items.length - 1];\n        if (lastItem !== undefined) {\n          focusItem(lastItem);\n        }\n        break;\n      /**\n       * ArrowRight, Spacebar, or Enter should activate\n       * the currently focused trigger item to open a\n       * popover if the element is a trigger item.\n       */\n      case 'ArrowRight':\n      case ' ':\n      case 'Enter':\n        if (activeElement && isTriggerElement(activeElement)) {\n          const rightEvent = new CustomEvent('ionPopoverActivateTrigger');\n          activeElement.dispatchEvent(rightEvent);\n        }\n        break;\n      default:\n        break;\n    }\n  };\n  popoverEl.addEventListener('keydown', callback);\n  return () => popoverEl.removeEventListener('keydown', callback);\n};\n/**\n * Positions a popover by taking into account\n * the reference point, preferred side, alignment\n * and viewport dimensions.\n */\nexport const getPopoverPosition = (isRTL, contentWidth, contentHeight, arrowWidth, arrowHeight, reference, side, align, defaultPosition, triggerEl, event) => {\n  var _a;\n  let referenceCoordinates = {\n    top: 0,\n    left: 0,\n    width: 0,\n    height: 0,\n  };\n  /**\n   * Calculate position relative to the\n   * x-y coordinates in the event that\n   * was passed in\n   */\n  switch (reference) {\n    case 'event':\n      if (!event) {\n        return defaultPosition;\n      }\n      const mouseEv = event;\n      referenceCoordinates = {\n        top: mouseEv.clientY,\n        left: mouseEv.clientX,\n        width: 1,\n        height: 1,\n      };\n      break;\n    /**\n     * Calculate position relative to the bounding\n     * box on either the trigger element\n     * specified via the `trigger` prop or\n     * the target specified on the event\n     * that was passed in.\n     */\n    case 'trigger':\n    default:\n      const customEv = event;\n      /**\n       * ionShadowTarget is used when we need to align the\n       * popover with an element inside of the shadow root\n       * of an Ionic component. Ex: Presenting a popover\n       * by clicking on the collapsed indicator inside\n       * of `ion-breadcrumb` and centering it relative\n       * to the indicator rather than `ion-breadcrumb`\n       * as a whole.\n       */\n      const actualTriggerEl = (triggerEl ||\n        ((_a = customEv === null || customEv === void 0 ? void 0 : customEv.detail) === null || _a === void 0 ? void 0 : _a.ionShadowTarget) ||\n        (customEv === null || customEv === void 0 ? void 0 : customEv.target));\n      if (!actualTriggerEl) {\n        return defaultPosition;\n      }\n      const triggerBoundingBox = actualTriggerEl.getBoundingClientRect();\n      referenceCoordinates = {\n        top: triggerBoundingBox.top,\n        left: triggerBoundingBox.left,\n        width: triggerBoundingBox.width,\n        height: triggerBoundingBox.height,\n      };\n      break;\n  }\n  /**\n   * Get top/left offset that would allow\n   * popover to be positioned on the\n   * preferred side of the reference.\n   */\n  const coordinates = calculatePopoverSide(side, referenceCoordinates, contentWidth, contentHeight, arrowWidth, arrowHeight, isRTL);\n  /**\n   * Get the top/left adjustments that\n   * would allow the popover content\n   * to have the correct alignment.\n   */\n  const alignedCoordinates = calculatePopoverAlign(align, side, referenceCoordinates, contentWidth, contentHeight);\n  const top = coordinates.top + alignedCoordinates.top;\n  const left = coordinates.left + alignedCoordinates.left;\n  const { arrowTop, arrowLeft } = calculateArrowPosition(side, arrowWidth, arrowHeight, top, left, contentWidth, contentHeight, isRTL);\n  const { originX, originY } = calculatePopoverOrigin(side, align, isRTL);\n  return { top, left, referenceCoordinates, arrowTop, arrowLeft, originX, originY };\n};\n/**\n * Determines the transform-origin\n * of the popover animation so that it\n * is in line with what the side and alignment\n * prop values are. Currently only used\n * with the MD animation.\n */\nconst calculatePopoverOrigin = (side, align, isRTL) => {\n  switch (side) {\n    case 'top':\n      return { originX: getOriginXAlignment(align), originY: 'bottom' };\n    case 'bottom':\n      return { originX: getOriginXAlignment(align), originY: 'top' };\n    case 'left':\n      return { originX: 'right', originY: getOriginYAlignment(align) };\n    case 'right':\n      return { originX: 'left', originY: getOriginYAlignment(align) };\n    case 'start':\n      return { originX: isRTL ? 'left' : 'right', originY: getOriginYAlignment(align) };\n    case 'end':\n      return { originX: isRTL ? 'right' : 'left', originY: getOriginYAlignment(align) };\n  }\n};\nconst getOriginXAlignment = (align) => {\n  switch (align) {\n    case 'start':\n      return 'left';\n    case 'center':\n      return 'center';\n    case 'end':\n      return 'right';\n  }\n};\nconst getOriginYAlignment = (align) => {\n  switch (align) {\n    case 'start':\n      return 'top';\n    case 'center':\n      return 'center';\n    case 'end':\n      return 'bottom';\n  }\n};\n/**\n * Calculates where the arrow positioning\n * should be relative to the popover content.\n */\nconst calculateArrowPosition = (side, arrowWidth, arrowHeight, top, left, contentWidth, contentHeight, isRTL) => {\n  /**\n   * Note: When side is left, right, start, or end, the arrow is\n   * been rotated using a `transform`, so to move the arrow up or down\n   * by its dimension, you need to use `arrowWidth`.\n   */\n  const leftPosition = {\n    arrowTop: top + contentHeight / 2 - arrowWidth / 2,\n    arrowLeft: left + contentWidth - arrowWidth / 2,\n  };\n  /**\n   * Move the arrow to the left by arrowWidth and then\n   * again by half of its width because we have rotated\n   * the arrow using a transform.\n   */\n  const rightPosition = { arrowTop: top + contentHeight / 2 - arrowWidth / 2, arrowLeft: left - arrowWidth * 1.5 };\n  switch (side) {\n    case 'top':\n      return { arrowTop: top + contentHeight, arrowLeft: left + contentWidth / 2 - arrowWidth / 2 };\n    case 'bottom':\n      return { arrowTop: top - arrowHeight, arrowLeft: left + contentWidth / 2 - arrowWidth / 2 };\n    case 'left':\n      return leftPosition;\n    case 'right':\n      return rightPosition;\n    case 'start':\n      return isRTL ? rightPosition : leftPosition;\n    case 'end':\n      return isRTL ? leftPosition : rightPosition;\n    default:\n      return { arrowTop: 0, arrowLeft: 0 };\n  }\n};\n/**\n * Calculates the required top/left\n * values needed to position the popover\n * content on the side specified in the\n * `side` prop.\n */\nconst calculatePopoverSide = (side, triggerBoundingBox, contentWidth, contentHeight, arrowWidth, arrowHeight, isRTL) => {\n  const sideLeft = {\n    top: triggerBoundingBox.top,\n    left: triggerBoundingBox.left - contentWidth - arrowWidth,\n  };\n  const sideRight = {\n    top: triggerBoundingBox.top,\n    left: triggerBoundingBox.left + triggerBoundingBox.width + arrowWidth,\n  };\n  switch (side) {\n    case 'top':\n      return {\n        top: triggerBoundingBox.top - contentHeight - arrowHeight,\n        left: triggerBoundingBox.left,\n      };\n    case 'right':\n      return sideRight;\n    case 'bottom':\n      return {\n        top: triggerBoundingBox.top + triggerBoundingBox.height + arrowHeight,\n        left: triggerBoundingBox.left,\n      };\n    case 'left':\n      return sideLeft;\n    case 'start':\n      return isRTL ? sideRight : sideLeft;\n    case 'end':\n      return isRTL ? sideLeft : sideRight;\n  }\n};\n/**\n * Calculates the required top/left\n * offset values needed to provide the\n * correct alignment regardless while taking\n * into account the side the popover is on.\n */\nconst calculatePopoverAlign = (align, side, triggerBoundingBox, contentWidth, contentHeight) => {\n  switch (align) {\n    case 'center':\n      return calculatePopoverCenterAlign(side, triggerBoundingBox, contentWidth, contentHeight);\n    case 'end':\n      return calculatePopoverEndAlign(side, triggerBoundingBox, contentWidth, contentHeight);\n    case 'start':\n    default:\n      return { top: 0, left: 0 };\n  }\n};\n/**\n * Calculate the end alignment for\n * the popover. If side is on the x-axis\n * then the align values refer to the top\n * and bottom margins of the content.\n * If side is on the y-axis then the\n * align values refer to the left and right\n * margins of the content.\n */\nconst calculatePopoverEndAlign = (side, triggerBoundingBox, contentWidth, contentHeight) => {\n  switch (side) {\n    case 'start':\n    case 'end':\n    case 'left':\n    case 'right':\n      return {\n        top: -(contentHeight - triggerBoundingBox.height),\n        left: 0,\n      };\n    case 'top':\n    case 'bottom':\n    default:\n      return {\n        top: 0,\n        left: -(contentWidth - triggerBoundingBox.width),\n      };\n  }\n};\n/**\n * Calculate the center alignment for\n * the popover. If side is on the x-axis\n * then the align values refer to the top\n * and bottom margins of the content.\n * If side is on the y-axis then the\n * align values refer to the left and right\n * margins of the content.\n */\nconst calculatePopoverCenterAlign = (side, triggerBoundingBox, contentWidth, contentHeight) => {\n  switch (side) {\n    case 'start':\n    case 'end':\n    case 'left':\n    case 'right':\n      return {\n        top: -(contentHeight / 2 - triggerBoundingBox.height / 2),\n        left: 0,\n      };\n    case 'top':\n    case 'bottom':\n    default:\n      return {\n        top: 0,\n        left: -(contentWidth / 2 - triggerBoundingBox.width / 2),\n      };\n  }\n};\n/**\n * Adjusts popover positioning coordinates\n * such that popover does not appear offscreen\n * or overlapping safe area bounds.\n */\nexport const calculateWindowAdjustment = (side, coordTop, coordLeft, bodyPadding, bodyWidth, bodyHeight, contentWidth, contentHeight, safeAreaMargin, contentOriginX, contentOriginY, triggerCoordinates, coordArrowTop = 0, coordArrowLeft = 0, arrowHeight = 0) => {\n  let arrowTop = coordArrowTop;\n  const arrowLeft = coordArrowLeft;\n  let left = coordLeft;\n  let top = coordTop;\n  let bottom;\n  let originX = contentOriginX;\n  let originY = contentOriginY;\n  let checkSafeAreaLeft = false;\n  let checkSafeAreaRight = false;\n  const triggerTop = triggerCoordinates\n    ? triggerCoordinates.top + triggerCoordinates.height\n    : bodyHeight / 2 - contentHeight / 2;\n  const triggerHeight = triggerCoordinates ? triggerCoordinates.height : 0;\n  let addPopoverBottomClass = false;\n  /**\n   * Adjust popover so it does not\n   * go off the left of the screen.\n   */\n  if (left < bodyPadding + safeAreaMargin) {\n    left = bodyPadding;\n    checkSafeAreaLeft = true;\n    originX = 'left';\n    /**\n     * Adjust popover so it does not\n     * go off the right of the screen.\n     */\n  }\n  else if (contentWidth + bodyPadding + left + safeAreaMargin > bodyWidth) {\n    checkSafeAreaRight = true;\n    left = bodyWidth - contentWidth - bodyPadding;\n    originX = 'right';\n  }\n  /**\n   * Adjust popover so it does not\n   * go off the top of the screen.\n   * If popover is on the left or the right of\n   * the trigger, then we should not adjust top\n   * margins.\n   */\n  if (triggerTop + triggerHeight + contentHeight > bodyHeight && (side === 'top' || side === 'bottom')) {\n    if (triggerTop - contentHeight > 0) {\n      /**\n       * While we strive to align the popover with the trigger\n       * on smaller screens this is not always possible. As a result,\n       * we adjust the popover up so that it does not hang\n       * off the bottom of the screen. However, we do not want to move\n       * the popover up so much that it goes off the top of the screen.\n       *\n       * We chose 12 here so that the popover position looks a bit nicer as\n       * it is not right up against the edge of the screen.\n       */\n      top = Math.max(12, triggerTop - contentHeight - triggerHeight - (arrowHeight - 1));\n      arrowTop = top + contentHeight;\n      originY = 'bottom';\n      addPopoverBottomClass = true;\n      /**\n       * If not enough room for popover to appear\n       * above trigger, then cut it off.\n       */\n    }\n    else {\n      bottom = bodyPadding;\n    }\n  }\n  return {\n    top,\n    left,\n    bottom,\n    originX,\n    originY,\n    checkSafeAreaLeft,\n    checkSafeAreaRight,\n    arrowTop,\n    arrowLeft,\n    addPopoverBottomClass,\n  };\n};\nexport const shouldShowArrow = (side, didAdjustBounds = false, ev, trigger) => {\n  /**\n   * If no event provided and\n   * we do not have a trigger,\n   * then this popover was likely\n   * presented via the popoverController\n   * or users called `present` manually.\n   * In this case, the arrow should not be\n   * shown as we do not have a reference.\n   */\n  if (!ev && !trigger) {\n    return false;\n  }\n  /**\n   * If popover is on the left or the right\n   * of a trigger, but we needed to adjust the\n   * popover due to screen bounds, then we should\n   * hide the arrow as it will never be pointing\n   * at the trigger.\n   */\n  if (side !== 'top' && side !== 'bottom' && didAdjustBounds) {\n    return false;\n  }\n  return true;\n};\n","/*!\n * (C) Ionic http://ionicframework.com - MIT License\n */\nimport { createAnimation } from '../../../utils/animation/animation';\nimport { getElementRoot } from '../../../utils/helpers';\nimport { calculateWindowAdjustment, getArrowDimensions, getPopoverDimensions, getPopoverPosition, shouldShowArrow, } from '../utils';\nconst POPOVER_IOS_BODY_PADDING = 5;\n/**\n * iOS Popover Enter Animation\n */\n// TODO(FW-2832): types\nexport const iosEnterAnimation = (baseEl, opts) => {\n  var _a;\n  const { event: ev, size, trigger, reference, side, align } = opts;\n  const doc = baseEl.ownerDocument;\n  const isRTL = doc.dir === 'rtl';\n  const bodyWidth = doc.defaultView.innerWidth;\n  const bodyHeight = doc.defaultView.innerHeight;\n  const root = getElementRoot(baseEl);\n  const contentEl = root.querySelector('.popover-content');\n  const arrowEl = root.querySelector('.popover-arrow');\n  const referenceSizeEl = trigger || ((_a = ev === null || ev === void 0 ? void 0 : ev.detail) === null || _a === void 0 ? void 0 : _a.ionShadowTarget) || (ev === null || ev === void 0 ? void 0 : ev.target);\n  const { contentWidth, contentHeight } = getPopoverDimensions(size, contentEl, referenceSizeEl);\n  const { arrowWidth, arrowHeight } = getArrowDimensions(arrowEl);\n  const defaultPosition = {\n    top: bodyHeight / 2 - contentHeight / 2,\n    left: bodyWidth / 2 - contentWidth / 2,\n    originX: isRTL ? 'right' : 'left',\n    originY: 'top',\n  };\n  const results = getPopoverPosition(isRTL, contentWidth, contentHeight, arrowWidth, arrowHeight, reference, side, align, defaultPosition, trigger, ev);\n  const padding = size === 'cover' ? 0 : POPOVER_IOS_BODY_PADDING;\n  const margin = size === 'cover' ? 0 : 25;\n  const { originX, originY, top, left, bottom, checkSafeAreaLeft, checkSafeAreaRight, arrowTop, arrowLeft, addPopoverBottomClass, } = calculateWindowAdjustment(side, results.top, results.left, padding, bodyWidth, bodyHeight, contentWidth, contentHeight, margin, results.originX, results.originY, results.referenceCoordinates, results.arrowTop, results.arrowLeft, arrowHeight);\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation\n    .addElement(root.querySelector('ion-backdrop'))\n    .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')\n    .beforeStyles({\n    'pointer-events': 'none',\n  })\n    .afterClearStyles(['pointer-events']);\n  wrapperAnimation.addElement(root.querySelector('.popover-wrapper')).fromTo('opacity', 0.01, 1);\n  return baseAnimation\n    .easing('ease')\n    .duration(100)\n    .beforeAddWrite(() => {\n    if (size === 'cover') {\n      baseEl.style.setProperty('--width', `${contentWidth}px`);\n    }\n    if (addPopoverBottomClass) {\n      baseEl.classList.add('popover-bottom');\n    }\n    if (bottom !== undefined) {\n      contentEl.style.setProperty('bottom', `${bottom}px`);\n    }\n    const safeAreaLeft = ' + var(--ion-safe-area-left, 0)';\n    const safeAreaRight = ' - var(--ion-safe-area-right, 0)';\n    let leftValue = `${left}px`;\n    if (checkSafeAreaLeft) {\n      leftValue = `${left}px${safeAreaLeft}`;\n    }\n    if (checkSafeAreaRight) {\n      leftValue = `${left}px${safeAreaRight}`;\n    }\n    contentEl.style.setProperty('top', `calc(${top}px + var(--offset-y, 0))`);\n    contentEl.style.setProperty('left', `calc(${leftValue} + var(--offset-x, 0))`);\n    contentEl.style.setProperty('transform-origin', `${originY} ${originX}`);\n    if (arrowEl !== null) {\n      const didAdjustBounds = results.top !== top || results.left !== left;\n      const showArrow = shouldShowArrow(side, didAdjustBounds, ev, trigger);\n      if (showArrow) {\n        arrowEl.style.setProperty('top', `calc(${arrowTop}px + var(--offset-y, 0))`);\n        arrowEl.style.setProperty('left', `calc(${arrowLeft}px + var(--offset-x, 0))`);\n      }\n      else {\n        arrowEl.style.setProperty('display', 'none');\n      }\n    }\n  })\n    .addAnimation([backdropAnimation, wrapperAnimation]);\n};\n","/*!\n * (C) Ionic http://ionicframework.com - MIT License\n */\nimport { createAnimation } from '../../../utils/animation/animation';\nimport { getElementRoot } from '../../../utils/helpers';\n/**\n * iOS Popover Leave Animation\n */\nexport const iosLeaveAnimation = (baseEl) => {\n  const root = getElementRoot(baseEl);\n  const contentEl = root.querySelector('.popover-content');\n  const arrowEl = root.querySelector('.popover-arrow');\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation.addElement(root.querySelector('ion-backdrop')).fromTo('opacity', 'var(--backdrop-opacity)', 0);\n  wrapperAnimation.addElement(root.querySelector('.popover-wrapper')).fromTo('opacity', 0.99, 0);\n  return baseAnimation\n    .easing('ease')\n    .afterAddWrite(() => {\n    baseEl.style.removeProperty('--width');\n    baseEl.classList.remove('popover-bottom');\n    contentEl.style.removeProperty('top');\n    contentEl.style.removeProperty('left');\n    contentEl.style.removeProperty('bottom');\n    contentEl.style.removeProperty('transform-origin');\n    if (arrowEl) {\n      arrowEl.style.removeProperty('top');\n      arrowEl.style.removeProperty('left');\n      arrowEl.style.removeProperty('display');\n    }\n  })\n    .duration(300)\n    .addAnimation([backdropAnimation, wrapperAnimation]);\n};\n","/*!\n * (C) Ionic http://ionicframework.com - MIT License\n */\nimport { createAnimation } from '../../../utils/animation/animation';\nimport { getElementRoot } from '../../../utils/helpers';\nimport { calculateWindowAdjustment, getPopoverDimensions, getPopoverPosition } from '../utils';\nconst POPOVER_MD_BODY_PADDING = 12;\n/**\n * Md Popover Enter Animation\n */\n// TODO(FW-2832): types\nexport const mdEnterAnimation = (baseEl, opts) => {\n  var _a;\n  const { event: ev, size, trigger, reference, side, align } = opts;\n  const doc = baseEl.ownerDocument;\n  const isRTL = doc.dir === 'rtl';\n  const bodyWidth = doc.defaultView.innerWidth;\n  const bodyHeight = doc.defaultView.innerHeight;\n  const root = getElementRoot(baseEl);\n  const contentEl = root.querySelector('.popover-content');\n  const referenceSizeEl = trigger || ((_a = ev === null || ev === void 0 ? void 0 : ev.detail) === null || _a === void 0 ? void 0 : _a.ionShadowTarget) || (ev === null || ev === void 0 ? void 0 : ev.target);\n  const { contentWidth, contentHeight } = getPopoverDimensions(size, contentEl, referenceSizeEl);\n  const defaultPosition = {\n    top: bodyHeight / 2 - contentHeight / 2,\n    left: bodyWidth / 2 - contentWidth / 2,\n    originX: isRTL ? 'right' : 'left',\n    originY: 'top',\n  };\n  const results = getPopoverPosition(isRTL, contentWidth, contentHeight, 0, 0, reference, side, align, defaultPosition, trigger, ev);\n  const padding = size === 'cover' ? 0 : POPOVER_MD_BODY_PADDING;\n  const { originX, originY, top, left, bottom } = calculateWindowAdjustment(side, results.top, results.left, padding, bodyWidth, bodyHeight, contentWidth, contentHeight, 0, results.originX, results.originY, results.referenceCoordinates);\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  const contentAnimation = createAnimation();\n  const viewportAnimation = createAnimation();\n  backdropAnimation\n    .addElement(root.querySelector('ion-backdrop'))\n    .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')\n    .beforeStyles({\n    'pointer-events': 'none',\n  })\n    .afterClearStyles(['pointer-events']);\n  wrapperAnimation.addElement(root.querySelector('.popover-wrapper')).duration(150).fromTo('opacity', 0.01, 1);\n  contentAnimation\n    .addElement(contentEl)\n    .beforeStyles({\n    top: `calc(${top}px + var(--offset-y, 0px))`,\n    left: `calc(${left}px + var(--offset-x, 0px))`,\n    'transform-origin': `${originY} ${originX}`,\n  })\n    .beforeAddWrite(() => {\n    if (bottom !== undefined) {\n      contentEl.style.setProperty('bottom', `${bottom}px`);\n    }\n  })\n    .fromTo('transform', 'scale(0.8)', 'scale(1)');\n  viewportAnimation.addElement(root.querySelector('.popover-viewport')).fromTo('opacity', 0.01, 1);\n  return baseAnimation\n    .easing('cubic-bezier(0.36,0.66,0.04,1)')\n    .duration(300)\n    .beforeAddWrite(() => {\n    if (size === 'cover') {\n      baseEl.style.setProperty('--width', `${contentWidth}px`);\n    }\n    if (originY === 'bottom') {\n      baseEl.classList.add('popover-bottom');\n    }\n  })\n    .addAnimation([backdropAnimation, wrapperAnimation, contentAnimation, viewportAnimation]);\n};\n","/*!\n * (C) Ionic http://ionicframework.com - MIT License\n */\nimport { createAnimation } from '../../../utils/animation/animation';\nimport { getElementRoot } from '../../../utils/helpers';\n/**\n * Md Popover Leave Animation\n */\nexport const mdLeaveAnimation = (baseEl) => {\n  const root = getElementRoot(baseEl);\n  const contentEl = root.querySelector('.popover-content');\n  const baseAnimation = createAnimation();\n  const backdropAnimation = createAnimation();\n  const wrapperAnimation = createAnimation();\n  backdropAnimation.addElement(root.querySelector('ion-backdrop')).fromTo('opacity', 'var(--backdrop-opacity)', 0);\n  wrapperAnimation.addElement(root.querySelector('.popover-wrapper')).fromTo('opacity', 0.99, 0);\n  return baseAnimation\n    .easing('ease')\n    .afterAddWrite(() => {\n    baseEl.style.removeProperty('--width');\n    baseEl.classList.remove('popover-bottom');\n    contentEl.style.removeProperty('top');\n    contentEl.style.removeProperty('left');\n    contentEl.style.removeProperty('bottom');\n    contentEl.style.removeProperty('transform-origin');\n  })\n    .duration(150)\n    .addAnimation([backdropAnimation, wrapperAnimation]);\n};\n",":host {\n  /**\n   * @prop --background: Background of the popover\n   * @prop --box-shadow: Box shadow of the popover\n   *\n   * @prop --min-width: Minimum width of the popover\n   * @prop --width: Width of the popover\n   * @prop --max-width: Maximum width of the popover\n   *\n   * @prop --min-height: Minimum height of the popover\n   * @prop --height: Height of the popover\n   * @prop --max-height: Maximum height of the popover\n   *\n   * @prop --backdrop-opacity: Opacity of the backdrop\n   *\n   * @prop --offset-x: The amount to move the popover by on the x-axis\n   * @prop --offset-y: The amount to move the popover by on the y-axis\n   */\n  --background: var(--ion-background-color, #fff);\n  --min-width: 0;\n  --min-height: 0;\n  --max-width: auto;\n  --height: auto;\n  --offset-x: 0px;\n  --offset-y: 0px;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  position: fixed;\n  align-items: center;\n  justify-content: center;\n  outline: none;\n  color: var(--ion-text-color, #000);\n  z-index: 1001;\n}\n\n/**\n * With nested popovers, only the popover that\n * was first presented has a popover. This is the\n * parent popover and allows us to easily\n * track all nested popovers from a single backdrop.\n * As a result, nested popovers do not have backdrops\n * and their container should not be clickable.\n * This ensures that users can click the parent backdrop\n * while still interacting with the nested popover inner\n * content.\n */\n:host(.popover-nested) {\n  pointer-events: none;\n}\n\n:host(.popover-nested) .popover-wrapper {\n  pointer-events: auto;\n}\n\n:host(.overlay-hidden) {\n  display: none;\n}\n\n.popover-wrapper {\n  opacity: 0;\n  z-index: 10;\n}\n\n.popover-content {\n  display: flex;\n  position: absolute;\n  flex-direction: column;\n  width: var(--width);\n  min-width: var(--min-width);\n  max-width: var(--max-width);\n  height: var(--height);\n  min-height: var(--min-height);\n  max-height: var(--max-height);\n  background: var(--background);\n  box-shadow: var(--box-shadow);\n  overflow: auto;\n  z-index: 10;\n}\n\n.popover-viewport {\n  --ion-safe-area-top: 0px;\n  --ion-safe-area-right: 0px;\n  --ion-safe-area-bottom: 0px;\n  --ion-safe-area-left: 0px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n:host(.popover-nested.popover-side-left) {\n  --offset-x: 5px;\n}\n\n:host(.popover-nested.popover-side-right) {\n  --offset-x: -5px;\n}\n\n:host(.popover-nested.popover-side-start) {\n  --offset-x: 5px;\n}\n:host-context([dir=rtl]):host(.popover-nested.popover-side-start), :host-context([dir=rtl]).popover-nested.popover-side-start {\n  --offset-x: -5px;\n}\n\n:host(.popover-nested.popover-side-end) {\n  --offset-x: -5px;\n}\n:host-context([dir=rtl]):host(.popover-nested.popover-side-end), :host-context([dir=rtl]).popover-nested.popover-side-end {\n  --offset-x: 5px;\n}\n\n:host {\n  --width: 200px;\n  --max-height: 90%;\n  --box-shadow: none;\n  --backdrop-opacity: var(--ion-backdrop-opacity, 0.08);\n}\n\n:host(.popover-desktop) {\n  --box-shadow: 0px 4px 16px 0px rgba(0, 0, 0, 0.12);\n}\n\n.popover-content {\n  border-radius: 10px;\n}\n\n:host(.popover-desktop) .popover-content {\n  border: 0.5px solid var(--ion-color-step-100, #e6e6e6);\n}\n\n.popover-arrow {\n  display: block;\n  position: absolute;\n  width: 20px;\n  height: 10px;\n  overflow: hidden;\n}\n\n.popover-arrow::after {\n  left: 3px;\n  top: 3px;\n  border-radius: 3px;\n  position: absolute;\n  width: 14px;\n  height: 14px;\n  transform: rotate(45deg);\n  background: var(--background);\n  content: \"\";\n  z-index: 10;\n}\n[dir=rtl] .popover-arrow::after, :host-context([dir=rtl]) .popover-arrow::after {\n  left: unset;\n  right: unset;\n  right: 3px;\n}\n\n:host(.popover-bottom) .popover-arrow {\n  top: auto;\n  bottom: -10px;\n}\n\n:host(.popover-bottom) .popover-arrow::after {\n  top: -6px;\n}\n\n:host(.popover-side-left) .popover-arrow {\n  transform: rotate(90deg);\n}\n\n:host(.popover-side-right) .popover-arrow {\n  transform: rotate(-90deg);\n}\n\n:host(.popover-side-top) .popover-arrow {\n  transform: rotate(180deg);\n}\n\n:host(.popover-side-start) .popover-arrow {\n  transform: rotate(90deg);\n}\n:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow, :host-context([dir=rtl]).popover-side-start .popover-arrow {\n  transform: rotate(-90deg);\n}\n\n:host(.popover-side-end) .popover-arrow {\n  transform: rotate(-90deg);\n}\n:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow, :host-context([dir=rtl]).popover-side-end .popover-arrow {\n  transform: rotate(90deg);\n}\n\n@supports (backdrop-filter: blur(0)) {\n  :host(.popover-translucent) .popover-content,\n:host(.popover-translucent) .popover-arrow::after {\n    background: rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);\n    backdrop-filter: saturate(180%) blur(20px);\n  }\n}",":host {\n  /**\n   * @prop --background: Background of the popover\n   * @prop --box-shadow: Box shadow of the popover\n   *\n   * @prop --min-width: Minimum width of the popover\n   * @prop --width: Width of the popover\n   * @prop --max-width: Maximum width of the popover\n   *\n   * @prop --min-height: Minimum height of the popover\n   * @prop --height: Height of the popover\n   * @prop --max-height: Maximum height of the popover\n   *\n   * @prop --backdrop-opacity: Opacity of the backdrop\n   *\n   * @prop --offset-x: The amount to move the popover by on the x-axis\n   * @prop --offset-y: The amount to move the popover by on the y-axis\n   */\n  --background: var(--ion-background-color, #fff);\n  --min-width: 0;\n  --min-height: 0;\n  --max-width: auto;\n  --height: auto;\n  --offset-x: 0px;\n  --offset-y: 0px;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  position: fixed;\n  align-items: center;\n  justify-content: center;\n  outline: none;\n  color: var(--ion-text-color, #000);\n  z-index: 1001;\n}\n\n/**\n * With nested popovers, only the popover that\n * was first presented has a popover. This is the\n * parent popover and allows us to easily\n * track all nested popovers from a single backdrop.\n * As a result, nested popovers do not have backdrops\n * and their container should not be clickable.\n * This ensures that users can click the parent backdrop\n * while still interacting with the nested popover inner\n * content.\n */\n:host(.popover-nested) {\n  pointer-events: none;\n}\n\n:host(.popover-nested) .popover-wrapper {\n  pointer-events: auto;\n}\n\n:host(.overlay-hidden) {\n  display: none;\n}\n\n.popover-wrapper {\n  opacity: 0;\n  z-index: 10;\n}\n\n.popover-content {\n  display: flex;\n  position: absolute;\n  flex-direction: column;\n  width: var(--width);\n  min-width: var(--min-width);\n  max-width: var(--max-width);\n  height: var(--height);\n  min-height: var(--min-height);\n  max-height: var(--max-height);\n  background: var(--background);\n  box-shadow: var(--box-shadow);\n  overflow: auto;\n  z-index: 10;\n}\n\n.popover-viewport {\n  --ion-safe-area-top: 0px;\n  --ion-safe-area-right: 0px;\n  --ion-safe-area-bottom: 0px;\n  --ion-safe-area-left: 0px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n:host(.popover-nested.popover-side-left) {\n  --offset-x: 5px;\n}\n\n:host(.popover-nested.popover-side-right) {\n  --offset-x: -5px;\n}\n\n:host(.popover-nested.popover-side-start) {\n  --offset-x: 5px;\n}\n:host-context([dir=rtl]):host(.popover-nested.popover-side-start), :host-context([dir=rtl]).popover-nested.popover-side-start {\n  --offset-x: -5px;\n}\n\n:host(.popover-nested.popover-side-end) {\n  --offset-x: -5px;\n}\n:host-context([dir=rtl]):host(.popover-nested.popover-side-end), :host-context([dir=rtl]).popover-nested.popover-side-end {\n  --offset-x: 5px;\n}\n\n:host {\n  --width: 250px;\n  --max-height: 90%;\n  --box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);\n  --backdrop-opacity: var(--ion-backdrop-opacity, 0.32);\n}\n\n.popover-content {\n  border-radius: 4px;\n  transform-origin: left top;\n}\n[dir=rtl] .popover-content, :host-context([dir=rtl]) .popover-content {\n  transform-origin: right top;\n}\n\n.popover-viewport {\n  transition-delay: 100ms;\n}","/*!\n * (C) Ionic http://ionicframework.com - MIT License\n */\nimport { Host, h } from '@stencil/core';\nimport { getIonMode } from '../../global/ionic-global';\nimport { CoreDelegate, attachComponent, detachComponent } from '../../utils/framework-delegate';\nimport { addEventListener, raf } from '../../utils/helpers';\nimport { printIonWarning } from '../../utils/logging';\nimport { BACKDROP, dismiss, eventMethod, focusFirstDescendant, prepareOverlay, present } from '../../utils/overlays';\nimport { isPlatform } from '../../utils/platform';\nimport { getClassMap } from '../../utils/theme';\nimport { deepReady } from '../../utils/transition';\nimport { iosEnterAnimation } from './animations/ios.enter';\nimport { iosLeaveAnimation } from './animations/ios.leave';\nimport { mdEnterAnimation } from './animations/md.enter';\nimport { mdLeaveAnimation } from './animations/md.leave';\nimport { configureDismissInteraction, configureKeyboardInteraction, configureTriggerInteraction } from './utils';\n// TODO(FW-2832): types\n/**\n * @virtualProp {\"ios\" | \"md\"} mode - The mode determines which platform styles to use.\n *\n * @slot - Content is placed inside of the `.popover-content` element.\n *\n * @part backdrop - The `ion-backdrop` element.\n * @part arrow - The arrow that points to the reference element. Only applies on `ios` mode.\n * @part content - The wrapper element for the default slot.\n */\nexport class Popover {\n  constructor() {\n    this.parentPopover = null;\n    this.popoverIndex = popoverIds++;\n    this.coreDelegate = CoreDelegate();\n    this.inline = false;\n    this.focusDescendantOnPresent = false;\n    this.presented = false;\n    /** @internal */\n    this.hasController = false;\n    /**\n     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.\n     */\n    this.keyboardClose = true;\n    /**\n     * If `true`, the popover will be dismissed when the backdrop is clicked.\n     */\n    this.backdropDismiss = true;\n    /**\n     * If `true`, a backdrop will be displayed behind the popover.\n     * This property controls whether or not the backdrop\n     * darkens the screen when the popover is presented.\n     * It does not control whether or not the backdrop\n     * is active or present in the DOM.\n     */\n    this.showBackdrop = true;\n    /**\n     * If `true`, the popover will be translucent.\n     * Only applies when the mode is `\"ios\"` and the device supports\n     * [`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).\n     */\n    this.translucent = false;\n    /**\n     * If `true`, the popover will animate.\n     */\n    this.animated = true;\n    /**\n     * Describes what kind of interaction with the trigger that\n     * should cause the popover to open. Does not apply when the `trigger`\n     * property is `undefined`.\n     * If `'click'`, the popover will be presented when the trigger is left clicked.\n     * If `'hover'`, the popover will be presented when a pointer hovers over the trigger.\n     * If `'context-menu'`, the popover will be presented when the trigger is right\n     * clicked on desktop and long pressed on mobile. This will also prevent your\n     * device's normal context menu from appearing.\n     */\n    this.triggerAction = 'click';\n    /**\n     * Describes how to calculate the popover width.\n     * If `'cover'`, the popover width will match the width of the trigger.\n     * If `'auto'`, the popover width will be determined by the content in\n     * the popover.\n     */\n    this.size = 'auto';\n    /**\n     * If `true`, the popover will be automatically\n     * dismissed when the content has been clicked.\n     */\n    this.dismissOnSelect = false;\n    /**\n     * Describes what to position the popover relative to.\n     * If `'trigger'`, the popover will be positioned relative\n     * to the trigger button. If passing in an event, this is\n     * determined via event.target.\n     * If `'event'`, the popover will be positioned relative\n     * to the x/y coordinates of the trigger action. If passing\n     * in an event, this is determined via event.clientX and event.clientY.\n     */\n    this.reference = 'trigger';\n    /**\n     * Describes which side of the `reference` point to position\n     * the popover on. The `'start'` and `'end'` values are RTL-aware,\n     * and the `'left'` and `'right'` values are not.\n     */\n    this.side = 'bottom';\n    /**\n     * If `true`, the popover will display an arrow that points at the\n     * `reference` when running in `ios` mode. Does not apply in `md` mode.\n     */\n    this.arrow = true;\n    /**\n     * If `true`, the popover will open. If `false`, the popover will close.\n     * Use this if you need finer grained control over presentation, otherwise\n     * just use the popoverController or the `trigger` property.\n     * Note: `isOpen` will not automatically be set back to `false` when\n     * the popover dismisses. You will need to do that in your code.\n     */\n    this.isOpen = false;\n    /**\n     * @internal\n     *\n     * If `true` the popover will not register its own keyboard event handlers.\n     * This allows the contents of the popover to handle their own keyboard interactions.\n     *\n     * If `false`, the popover will register its own keyboard event handlers for\n     * navigating `ion-list` items within a popover (up/down/home/end/etc.).\n     * This will also cancel browser keyboard event bindings to prevent scroll\n     * behavior in a popover using a list of items.\n     */\n    this.keyboardEvents = false;\n    /**\n     * If `true`, the component passed into `ion-popover` will\n     * automatically be mounted when the popover is created. The\n     * component will remain mounted even when the popover is dismissed.\n     * However, the component will be destroyed when the popover is\n     * destroyed. This property is not reactive and should only be\n     * used when initially creating a popover.\n     *\n     * Note: This feature only applies to inline popovers in JavaScript\n     * frameworks such as Angular, React, and Vue.\n     */\n    this.keepContentsMounted = false;\n    this.onBackdropTap = () => {\n      this.dismiss(undefined, BACKDROP);\n    };\n    this.onLifecycle = (modalEvent) => {\n      const el = this.usersElement;\n      const name = LIFECYCLE_MAP[modalEvent.type];\n      if (el && name) {\n        const event = new CustomEvent(name, {\n          bubbles: false,\n          cancelable: false,\n          detail: modalEvent.detail,\n        });\n        el.dispatchEvent(event);\n      }\n    };\n    this.configureTriggerInteraction = () => {\n      const { trigger, triggerAction, el, destroyTriggerInteraction } = this;\n      if (destroyTriggerInteraction) {\n        destroyTriggerInteraction();\n      }\n      if (trigger === undefined) {\n        return;\n      }\n      const triggerEl = (this.triggerEl = trigger !== undefined ? document.getElementById(trigger) : null);\n      if (!triggerEl) {\n        printIonWarning(`A trigger element with the ID \"${trigger}\" was not found in the DOM. The trigger element must be in the DOM when the \"trigger\" property is set on ion-popover.`, this.el);\n        return;\n      }\n      this.destroyTriggerInteraction = configureTriggerInteraction(triggerEl, triggerAction, el);\n    };\n    this.configureKeyboardInteraction = () => {\n      const { destroyKeyboardInteraction, el } = this;\n      if (destroyKeyboardInteraction) {\n        destroyKeyboardInteraction();\n      }\n      this.destroyKeyboardInteraction = configureKeyboardInteraction(el);\n    };\n    this.configureDismissInteraction = () => {\n      const { destroyDismissInteraction, parentPopover, triggerAction, triggerEl, el } = this;\n      if (!parentPopover || !triggerEl) {\n        return;\n      }\n      if (destroyDismissInteraction) {\n        destroyDismissInteraction();\n      }\n      this.destroyDismissInteraction = configureDismissInteraction(triggerEl, triggerAction, el, parentPopover);\n    };\n  }\n  onTriggerChange() {\n    this.configureTriggerInteraction();\n  }\n  onIsOpenChange(newValue, oldValue) {\n    if (newValue === true && oldValue === false) {\n      this.present();\n    }\n    else if (newValue === false && oldValue === true) {\n      this.dismiss();\n    }\n  }\n  connectedCallback() {\n    const { configureTriggerInteraction, el } = this;\n    prepareOverlay(el);\n    configureTriggerInteraction();\n  }\n  disconnectedCallback() {\n    const { destroyTriggerInteraction } = this;\n    if (destroyTriggerInteraction) {\n      destroyTriggerInteraction();\n    }\n  }\n  componentWillLoad() {\n    /**\n     * If user has custom ID set then we should\n     * not assign the default incrementing ID.\n     */\n    this.popoverId = this.el.hasAttribute('id') ? this.el.getAttribute('id') : `ion-popover-${this.popoverIndex}`;\n    this.parentPopover = this.el.closest(`ion-popover:not(#${this.popoverId})`);\n    if (this.alignment === undefined) {\n      this.alignment = getIonMode(this) === 'ios' ? 'center' : 'start';\n    }\n  }\n  componentDidLoad() {\n    const { parentPopover, isOpen } = this;\n    /**\n     * If popover was rendered with isOpen=\"true\"\n     * then we should open popover immediately.\n     */\n    if (isOpen === true) {\n      raf(() => this.present());\n    }\n    if (parentPopover) {\n      addEventListener(parentPopover, 'ionPopoverWillDismiss', () => {\n        this.dismiss(undefined, undefined, false);\n      });\n    }\n  }\n  /**\n   * When opening a popover from a trigger, we should not be\n   * modifying the `event` prop from inside the component.\n   * Additionally, when pressing the \"Right\" arrow key, we need\n   * to shift focus to the first descendant in the newly presented\n   * popover.\n   *\n   * @internal\n   */\n  async presentFromTrigger(event, focusDescendant = false) {\n    this.focusDescendantOnPresent = focusDescendant;\n    await this.present(event);\n    this.focusDescendantOnPresent = false;\n  }\n  /**\n   * Determines whether or not an overlay\n   * is being used inline or via a controller/JS\n   * and returns the correct delegate.\n   * By default, subsequent calls to getDelegate\n   * will use a cached version of the delegate.\n   * This is useful for calling dismiss after\n   * present so that the correct delegate is given.\n   */\n  getDelegate(force = false) {\n    if (this.workingDelegate && !force) {\n      return {\n        delegate: this.workingDelegate,\n        inline: this.inline,\n      };\n    }\n    /**\n     * If using overlay inline\n     * we potentially need to use the coreDelegate\n     * so that this works in vanilla JS apps.\n     * If a developer has presented this component\n     * via a controller, then we can assume\n     * the component is already in the\n     * correct place.\n     */\n    const parentEl = this.el.parentNode;\n    const inline = (this.inline = parentEl !== null && !this.hasController);\n    const delegate = (this.workingDelegate = inline ? this.delegate || this.coreDelegate : this.delegate);\n    return { inline, delegate };\n  }\n  /**\n   * Present the popover overlay after it has been created.\n   * Developers can pass a mouse, touch, or pointer event\n   * to position the popover relative to where that event\n   * was dispatched.\n   */\n  async present(event) {\n    if (this.presented) {\n      return;\n    }\n    /**\n     * When using an inline popover\n     * and dismissing a popover it is possible to\n     * quickly present the popover while it is\n     * dismissing. We need to await any current\n     * transition to allow the dismiss to finish\n     * before presenting again.\n     */\n    if (this.currentTransition !== undefined) {\n      await this.currentTransition;\n    }\n    const { inline, delegate } = this.getDelegate(true);\n    this.usersElement = await attachComponent(delegate, this.el, this.component, ['popover-viewport'], this.componentProps, inline);\n    await deepReady(this.usersElement);\n    if (!this.keyboardEvents) {\n      this.configureKeyboardInteraction();\n    }\n    this.configureDismissInteraction();\n    this.ionMount.emit();\n    return new Promise((resolve) => {\n      /**\n       * Wait two request animation frame loops before presenting the popover.\n       * This allows the framework implementations enough time to mount\n       * the popover contents, so the bounding box is set when the popover\n       * transition starts.\n       *\n       * On Angular and React, a single raf is enough time, but for Vue\n       * we need to wait two rafs. As a result we are using two rafs for\n       * all frameworks to ensure the popover is presented correctly.\n       */\n      raf(() => {\n        raf(async () => {\n          this.currentTransition = present(this, 'popoverEnter', iosEnterAnimation, mdEnterAnimation, {\n            event: event || this.event,\n            size: this.size,\n            trigger: this.triggerEl,\n            reference: this.reference,\n            side: this.side,\n            align: this.alignment,\n          });\n          await this.currentTransition;\n          this.currentTransition = undefined;\n          /**\n           * If popover is nested and was\n           * presented using the \"Right\" arrow key,\n           * we need to move focus to the first\n           * descendant inside of the popover.\n           */\n          if (this.focusDescendantOnPresent) {\n            focusFirstDescendant(this.el, this.el);\n          }\n          resolve();\n        });\n      });\n    });\n  }\n  /**\n   * Dismiss the popover overlay after it has been presented.\n   *\n   * @param data Any data to emit in the dismiss events.\n   * @param role The role of the element that is dismissing the popover. For example, 'cancel' or 'backdrop'.\n   * @param dismissParentPopover If `true`, dismissing this popover will also dismiss\n   * a parent popover if this popover is nested. Defaults to `true`.\n   */\n  async dismiss(data, role, dismissParentPopover = true) {\n    /**\n     * When using an inline popover\n     * and presenting a popover it is possible to\n     * quickly dismiss the popover while it is\n     * presenting. We need to await any current\n     * transition to allow the present to finish\n     * before dismissing again.\n     */\n    if (this.currentTransition !== undefined) {\n      await this.currentTransition;\n    }\n    const { destroyKeyboardInteraction, destroyDismissInteraction } = this;\n    if (dismissParentPopover && this.parentPopover) {\n      this.parentPopover.dismiss(data, role, dismissParentPopover);\n    }\n    this.currentTransition = dismiss(this, data, role, 'popoverLeave', iosLeaveAnimation, mdLeaveAnimation, this.event);\n    const shouldDismiss = await this.currentTransition;\n    if (shouldDismiss) {\n      if (destroyKeyboardInteraction) {\n        destroyKeyboardInteraction();\n        this.destroyKeyboardInteraction = undefined;\n      }\n      if (destroyDismissInteraction) {\n        destroyDismissInteraction();\n        this.destroyDismissInteraction = undefined;\n      }\n      /**\n       * If using popover inline\n       * we potentially need to use the coreDelegate\n       * so that this works in vanilla JS apps\n       */\n      const { delegate } = this.getDelegate();\n      await detachComponent(delegate, this.usersElement);\n    }\n    this.currentTransition = undefined;\n    return shouldDismiss;\n  }\n  /**\n   * @internal\n   */\n  async getParentPopover() {\n    return this.parentPopover;\n  }\n  /**\n   * Returns a promise that resolves when the popover did dismiss.\n   */\n  onDidDismiss() {\n    return eventMethod(this.el, 'ionPopoverDidDismiss');\n  }\n  /**\n   * Returns a promise that resolves when the popover will dismiss.\n   */\n  onWillDismiss() {\n    return eventMethod(this.el, 'ionPopoverWillDismiss');\n  }\n  render() {\n    const mode = getIonMode(this);\n    const { onLifecycle, popoverId, parentPopover, dismissOnSelect, side, arrow, htmlAttributes } = this;\n    const desktop = isPlatform('desktop');\n    const enableArrow = arrow && !parentPopover;\n    return (h(Host, Object.assign({ \"aria-modal\": \"true\", \"no-router\": true, tabindex: \"-1\" }, htmlAttributes, { style: {\n        zIndex: `${20000 + this.overlayIndex}`,\n      }, id: popoverId, class: Object.assign(Object.assign({}, getClassMap(this.cssClass)), { [mode]: true, 'popover-translucent': this.translucent, 'overlay-hidden': true, 'popover-desktop': desktop, [`popover-side-${side}`]: true, 'popover-nested': !!parentPopover }), onIonPopoverDidPresent: onLifecycle, onIonPopoverWillPresent: onLifecycle, onIonPopoverWillDismiss: onLifecycle, onIonPopoverDidDismiss: onLifecycle, onIonBackdropTap: this.onBackdropTap }), !parentPopover && h(\"ion-backdrop\", { tappable: this.backdropDismiss, visible: this.showBackdrop, part: \"backdrop\" }), h(\"div\", { class: \"popover-wrapper ion-overlay-wrapper\", onClick: dismissOnSelect ? () => this.dismiss() : undefined }, enableArrow && h(\"div\", { class: \"popover-arrow\", part: \"arrow\" }), h(\"div\", { class: \"popover-content\", part: \"content\" }, h(\"slot\", null)))));\n  }\n  static get is() { return \"ion-popover\"; }\n  static get encapsulation() { return \"shadow\"; }\n  static get originalStyleUrls() {\n    return {\n      \"ios\": [\"popover.ios.scss\"],\n      \"md\": [\"popover.md.scss\"]\n    };\n  }\n  static get styleUrls() {\n    return {\n      \"ios\": [\"popover.ios.css\"],\n      \"md\": [\"popover.md.css\"]\n    };\n  }\n  static get properties() {\n    return {\n      \"hasController\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [{\n              \"name\": \"internal\",\n              \"text\": undefined\n            }],\n          \"text\": \"\"\n        },\n        \"attribute\": \"has-controller\",\n        \"reflect\": false,\n        \"defaultValue\": \"false\"\n      },\n      \"delegate\": {\n        \"type\": \"unknown\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"FrameworkDelegate\",\n          \"resolved\": \"FrameworkDelegate | undefined\",\n          \"references\": {\n            \"FrameworkDelegate\": {\n              \"location\": \"import\",\n              \"path\": \"../../interface\"\n            }\n          }\n        },\n        \"required\": false,\n        \"optional\": true,\n        \"docs\": {\n          \"tags\": [{\n              \"name\": \"internal\",\n              \"text\": undefined\n            }],\n          \"text\": \"\"\n        }\n      },\n      \"overlayIndex\": {\n        \"type\": \"number\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"number\",\n          \"resolved\": \"number\",\n          \"references\": {}\n        },\n        \"required\": true,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [{\n              \"name\": \"internal\",\n              \"text\": undefined\n            }],\n          \"text\": \"\"\n        },\n        \"attribute\": \"overlay-index\",\n        \"reflect\": false\n      },\n      \"enterAnimation\": {\n        \"type\": \"unknown\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"AnimationBuilder\",\n          \"resolved\": \"((baseEl: any, opts?: any) => Animation) | undefined\",\n          \"references\": {\n            \"AnimationBuilder\": {\n              \"location\": \"import\",\n              \"path\": \"../../interface\"\n            }\n          }\n        },\n        \"required\": false,\n        \"optional\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Animation to use when the popover is presented.\"\n        }\n      },\n      \"leaveAnimation\": {\n        \"type\": \"unknown\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"AnimationBuilder\",\n          \"resolved\": \"((baseEl: any, opts?: any) => Animation) | undefined\",\n          \"references\": {\n            \"AnimationBuilder\": {\n              \"location\": \"import\",\n              \"path\": \"../../interface\"\n            }\n          }\n        },\n        \"required\": false,\n        \"optional\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Animation to use when the popover is dismissed.\"\n        }\n      },\n      \"component\": {\n        \"type\": \"string\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"ComponentRef\",\n          \"resolved\": \"Function | HTMLElement | null | string | undefined\",\n          \"references\": {\n            \"ComponentRef\": {\n              \"location\": \"import\",\n              \"path\": \"../../interface\"\n            }\n          }\n        },\n        \"required\": false,\n        \"optional\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"The component to display inside of the popover.\\nYou only need to use this if you are not using\\na JavaScript framework. Otherwise, you can just\\nslot your component inside of `ion-popover`.\"\n        },\n        \"attribute\": \"component\",\n        \"reflect\": false\n      },\n      \"componentProps\": {\n        \"type\": \"unknown\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"ComponentProps\",\n          \"resolved\": \"undefined | { [key: string]: any; }\",\n          \"references\": {\n            \"ComponentProps\": {\n              \"location\": \"import\",\n              \"path\": \"../../interface\"\n            }\n          }\n        },\n        \"required\": false,\n        \"optional\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"The data to pass to the popover component.\\nYou only need to use this if you are not using\\na JavaScript framework. Otherwise, you can just\\nset the props directly on your component.\"\n        }\n      },\n      \"keyboardClose\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"If `true`, the keyboard will be automatically dismissed when the overlay is presented.\"\n        },\n        \"attribute\": \"keyboard-close\",\n        \"reflect\": false,\n        \"defaultValue\": \"true\"\n      },\n      \"cssClass\": {\n        \"type\": \"string\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"string | string[]\",\n          \"resolved\": \"string | string[] | undefined\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": true,\n        \"docs\": {\n          \"tags\": [{\n              \"name\": \"internal\",\n              \"text\": undefined\n            }],\n          \"text\": \"Additional classes to apply for custom CSS. If multiple classes are\\nprovided they should be separated by spaces.\"\n        },\n        \"attribute\": \"css-class\",\n        \"reflect\": false\n      },\n      \"backdropDismiss\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"If `true`, the popover will be dismissed when the backdrop is clicked.\"\n        },\n        \"attribute\": \"backdrop-dismiss\",\n        \"reflect\": false,\n        \"defaultValue\": \"true\"\n      },\n      \"event\": {\n        \"type\": \"any\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"any\",\n          \"resolved\": \"any\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"The event to pass to the popover animation.\"\n        },\n        \"attribute\": \"event\",\n        \"reflect\": false\n      },\n      \"showBackdrop\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"If `true`, a backdrop will be displayed behind the popover.\\nThis property controls whether or not the backdrop\\ndarkens the screen when the popover is presented.\\nIt does not control whether or not the backdrop\\nis active or present in the DOM.\"\n        },\n        \"attribute\": \"show-backdrop\",\n        \"reflect\": false,\n        \"defaultValue\": \"true\"\n      },\n      \"translucent\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"If `true`, the popover will be translucent.\\nOnly applies when the mode is `\\\"ios\\\"` and the device supports\\n[`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).\"\n        },\n        \"attribute\": \"translucent\",\n        \"reflect\": false,\n        \"defaultValue\": \"false\"\n      },\n      \"animated\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"If `true`, the popover will animate.\"\n        },\n        \"attribute\": \"animated\",\n        \"reflect\": false,\n        \"defaultValue\": \"true\"\n      },\n      \"htmlAttributes\": {\n        \"type\": \"unknown\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"PopoverAttributes\",\n          \"resolved\": \"undefined | { [key: string]: any; }\",\n          \"references\": {\n            \"PopoverAttributes\": {\n              \"location\": \"import\",\n              \"path\": \"../../interface\"\n            }\n          }\n        },\n        \"required\": false,\n        \"optional\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Additional attributes to pass to the popover.\"\n        }\n      },\n      \"triggerAction\": {\n        \"type\": \"string\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"TriggerAction\",\n          \"resolved\": \"\\\"click\\\" | \\\"context-menu\\\" | \\\"hover\\\"\",\n          \"references\": {\n            \"TriggerAction\": {\n              \"location\": \"import\",\n              \"path\": \"../../interface\"\n            }\n          }\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Describes what kind of interaction with the trigger that\\nshould cause the popover to open. Does not apply when the `trigger`\\nproperty is `undefined`.\\nIf `'click'`, the popover will be presented when the trigger is left clicked.\\nIf `'hover'`, the popover will be presented when a pointer hovers over the trigger.\\nIf `'context-menu'`, the popover will be presented when the trigger is right\\nclicked on desktop and long pressed on mobile. This will also prevent your\\ndevice's normal context menu from appearing.\"\n        },\n        \"attribute\": \"trigger-action\",\n        \"reflect\": false,\n        \"defaultValue\": \"'click'\"\n      },\n      \"trigger\": {\n        \"type\": \"string\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"string | undefined\",\n          \"resolved\": \"string | undefined\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"An ID corresponding to the trigger element that\\ncauses the popover to open. Use the `trigger-action`\\nproperty to customize the interaction that results in\\nthe popover opening.\"\n        },\n        \"attribute\": \"trigger\",\n        \"reflect\": false\n      },\n      \"size\": {\n        \"type\": \"string\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"PopoverSize\",\n          \"resolved\": \"\\\"auto\\\" | \\\"cover\\\"\",\n          \"references\": {\n            \"PopoverSize\": {\n              \"location\": \"import\",\n              \"path\": \"../../interface\"\n            }\n          }\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Describes how to calculate the popover width.\\nIf `'cover'`, the popover width will match the width of the trigger.\\nIf `'auto'`, the popover width will be determined by the content in\\nthe popover.\"\n        },\n        \"attribute\": \"size\",\n        \"reflect\": false,\n        \"defaultValue\": \"'auto'\"\n      },\n      \"dismissOnSelect\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"If `true`, the popover will be automatically\\ndismissed when the content has been clicked.\"\n        },\n        \"attribute\": \"dismiss-on-select\",\n        \"reflect\": false,\n        \"defaultValue\": \"false\"\n      },\n      \"reference\": {\n        \"type\": \"string\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"PositionReference\",\n          \"resolved\": \"\\\"event\\\" | \\\"trigger\\\"\",\n          \"references\": {\n            \"PositionReference\": {\n              \"location\": \"import\",\n              \"path\": \"../../interface\"\n            }\n          }\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Describes what to position the popover relative to.\\nIf `'trigger'`, the popover will be positioned relative\\nto the trigger button. If passing in an event, this is\\ndetermined via event.target.\\nIf `'event'`, the popover will be positioned relative\\nto the x/y coordinates of the trigger action. If passing\\nin an event, this is determined via event.clientX and event.clientY.\"\n        },\n        \"attribute\": \"reference\",\n        \"reflect\": false,\n        \"defaultValue\": \"'trigger'\"\n      },\n      \"side\": {\n        \"type\": \"string\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"PositionSide\",\n          \"resolved\": \"\\\"bottom\\\" | \\\"end\\\" | \\\"left\\\" | \\\"right\\\" | \\\"start\\\" | \\\"top\\\"\",\n          \"references\": {\n            \"PositionSide\": {\n              \"location\": \"import\",\n              \"path\": \"../../interface\"\n            }\n          }\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Describes which side of the `reference` point to position\\nthe popover on. The `'start'` and `'end'` values are RTL-aware,\\nand the `'left'` and `'right'` values are not.\"\n        },\n        \"attribute\": \"side\",\n        \"reflect\": false,\n        \"defaultValue\": \"'bottom'\"\n      },\n      \"alignment\": {\n        \"type\": \"string\",\n        \"mutable\": true,\n        \"complexType\": {\n          \"original\": \"PositionAlign\",\n          \"resolved\": \"\\\"center\\\" | \\\"end\\\" | \\\"start\\\" | undefined\",\n          \"references\": {\n            \"PositionAlign\": {\n              \"location\": \"import\",\n              \"path\": \"../../interface\"\n            }\n          }\n        },\n        \"required\": false,\n        \"optional\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Describes how to align the popover content with the `reference` point.\\nDefaults to `'center'` for `ios` mode, and `'start'` for `md` mode.\"\n        },\n        \"attribute\": \"alignment\",\n        \"reflect\": false\n      },\n      \"arrow\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"If `true`, the popover will display an arrow that points at the\\n`reference` when running in `ios` mode. Does not apply in `md` mode.\"\n        },\n        \"attribute\": \"arrow\",\n        \"reflect\": false,\n        \"defaultValue\": \"true\"\n      },\n      \"isOpen\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"If `true`, the popover will open. If `false`, the popover will close.\\nUse this if you need finer grained control over presentation, otherwise\\njust use the popoverController or the `trigger` property.\\nNote: `isOpen` will not automatically be set back to `false` when\\nthe popover dismisses. You will need to do that in your code.\"\n        },\n        \"attribute\": \"is-open\",\n        \"reflect\": false,\n        \"defaultValue\": \"false\"\n      },\n      \"keyboardEvents\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [{\n              \"name\": \"internal\",\n              \"text\": \"If `true` the popover will not register its own keyboard event handlers.\\nThis allows the contents of the popover to handle their own keyboard interactions.\\n\\nIf `false`, the popover will register its own keyboard event handlers for\\nnavigating `ion-list` items within a popover (up/down/home/end/etc.).\\nThis will also cancel browser keyboard event bindings to prevent scroll\\nbehavior in a popover using a list of items.\"\n            }],\n          \"text\": \"\"\n        },\n        \"attribute\": \"keyboard-events\",\n        \"reflect\": false,\n        \"defaultValue\": \"false\"\n      },\n      \"keepContentsMounted\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"If `true`, the component passed into `ion-popover` will\\nautomatically be mounted when the popover is created. The\\ncomponent will remain mounted even when the popover is dismissed.\\nHowever, the component will be destroyed when the popover is\\ndestroyed. This property is not reactive and should only be\\nused when initially creating a popover.\\n\\nNote: This feature only applies to inline popovers in JavaScript\\nframeworks such as Angular, React, and Vue.\"\n        },\n        \"attribute\": \"keep-contents-mounted\",\n        \"reflect\": false,\n        \"defaultValue\": \"false\"\n      }\n    };\n  }\n  static get states() {\n    return {\n      \"presented\": {}\n    };\n  }\n  static get events() {\n    return [{\n        \"method\": \"didPresent\",\n        \"name\": \"ionPopoverDidPresent\",\n        \"bubbles\": true,\n        \"cancelable\": true,\n        \"composed\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Emitted after the popover has presented.\"\n        },\n        \"complexType\": {\n          \"original\": \"void\",\n          \"resolved\": \"void\",\n          \"references\": {}\n        }\n      }, {\n        \"method\": \"willPresent\",\n        \"name\": \"ionPopoverWillPresent\",\n        \"bubbles\": true,\n        \"cancelable\": true,\n        \"composed\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Emitted before the popover has presented.\"\n        },\n        \"complexType\": {\n          \"original\": \"void\",\n          \"resolved\": \"void\",\n          \"references\": {}\n        }\n      }, {\n        \"method\": \"willDismiss\",\n        \"name\": \"ionPopoverWillDismiss\",\n        \"bubbles\": true,\n        \"cancelable\": true,\n        \"composed\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Emitted before the popover has dismissed.\"\n        },\n        \"complexType\": {\n          \"original\": \"OverlayEventDetail\",\n          \"resolved\": \"OverlayEventDetail<any>\",\n          \"references\": {\n            \"OverlayEventDetail\": {\n              \"location\": \"import\",\n              \"path\": \"../../interface\"\n            }\n          }\n        }\n      }, {\n        \"method\": \"didDismiss\",\n        \"name\": \"ionPopoverDidDismiss\",\n        \"bubbles\": true,\n        \"cancelable\": true,\n        \"composed\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Emitted after the popover has dismissed.\"\n        },\n        \"complexType\": {\n          \"original\": \"OverlayEventDetail\",\n          \"resolved\": \"OverlayEventDetail<any>\",\n          \"references\": {\n            \"OverlayEventDetail\": {\n              \"location\": \"import\",\n              \"path\": \"../../interface\"\n            }\n          }\n        }\n      }, {\n        \"method\": \"didPresentShorthand\",\n        \"name\": \"didPresent\",\n        \"bubbles\": true,\n        \"cancelable\": true,\n        \"composed\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Emitted after the popover has presented.\\nShorthand for ionPopoverWillDismiss.\"\n        },\n        \"complexType\": {\n          \"original\": \"void\",\n          \"resolved\": \"void\",\n          \"references\": {}\n        }\n      }, {\n        \"method\": \"willPresentShorthand\",\n        \"name\": \"willPresent\",\n        \"bubbles\": true,\n        \"cancelable\": true,\n        \"composed\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Emitted before the popover has presented.\\nShorthand for ionPopoverWillPresent.\"\n        },\n        \"complexType\": {\n          \"original\": \"void\",\n          \"resolved\": \"void\",\n          \"references\": {}\n        }\n      }, {\n        \"method\": \"willDismissShorthand\",\n        \"name\": \"willDismiss\",\n        \"bubbles\": true,\n        \"cancelable\": true,\n        \"composed\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Emitted before the popover has dismissed.\\nShorthand for ionPopoverWillDismiss.\"\n        },\n        \"complexType\": {\n          \"original\": \"OverlayEventDetail\",\n          \"resolved\": \"OverlayEventDetail<any>\",\n          \"references\": {\n            \"OverlayEventDetail\": {\n              \"location\": \"import\",\n              \"path\": \"../../interface\"\n            }\n          }\n        }\n      }, {\n        \"method\": \"didDismissShorthand\",\n        \"name\": \"didDismiss\",\n        \"bubbles\": true,\n        \"cancelable\": true,\n        \"composed\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Emitted after the popover has dismissed.\\nShorthand for ionPopoverDidDismiss.\"\n        },\n        \"complexType\": {\n          \"original\": \"OverlayEventDetail\",\n          \"resolved\": \"OverlayEventDetail<any>\",\n          \"references\": {\n            \"OverlayEventDetail\": {\n              \"location\": \"import\",\n              \"path\": \"../../interface\"\n            }\n          }\n        }\n      }, {\n        \"method\": \"ionMount\",\n        \"name\": \"ionMount\",\n        \"bubbles\": true,\n        \"cancelable\": true,\n        \"composed\": true,\n        \"docs\": {\n          \"tags\": [{\n              \"name\": \"internal\",\n              \"text\": undefined\n            }],\n          \"text\": \"Emitted before the popover has presented, but after the component\\nhas been mounted in the DOM.\\nThis event exists for ion-popover to resolve an issue with the\\npopover and the lazy build, that the transition is unable to get\\nthe correct dimensions of the popover with auto sizing.\\nThis is not required for other overlays, since the existing\\noverlay transitions are not effected by auto sizing content.\"\n        },\n        \"complexType\": {\n          \"original\": \"void\",\n          \"resolved\": \"void\",\n          \"references\": {}\n        }\n      }];\n  }\n  static get methods() {\n    return {\n      \"presentFromTrigger\": {\n        \"complexType\": {\n          \"signature\": \"(event?: any, focusDescendant?: boolean) => Promise<void>\",\n          \"parameters\": [{\n              \"tags\": [],\n              \"text\": \"\"\n            }, {\n              \"tags\": [],\n              \"text\": \"\"\n            }],\n          \"references\": {\n            \"Promise\": {\n              \"location\": \"global\"\n            }\n          },\n          \"return\": \"Promise<void>\"\n        },\n        \"docs\": {\n          \"text\": \"When opening a popover from a trigger, we should not be\\nmodifying the `event` prop from inside the component.\\nAdditionally, when pressing the \\\"Right\\\" arrow key, we need\\nto shift focus to the first descendant in the newly presented\\npopover.\",\n          \"tags\": [{\n              \"name\": \"internal\",\n              \"text\": undefined\n            }]\n        }\n      },\n      \"present\": {\n        \"complexType\": {\n          \"signature\": \"(event?: MouseEvent | TouchEvent | PointerEvent | CustomEvent) => Promise<void>\",\n          \"parameters\": [{\n              \"tags\": [],\n              \"text\": \"\"\n            }],\n          \"references\": {\n            \"Promise\": {\n              \"location\": \"global\"\n            },\n            \"MouseEvent\": {\n              \"location\": \"global\"\n            },\n            \"TouchEvent\": {\n              \"location\": \"global\"\n            },\n            \"PointerEvent\": {\n              \"location\": \"global\"\n            },\n            \"CustomEvent\": {\n              \"location\": \"global\"\n            },\n            \"PopoverPresentOptions\": {\n              \"location\": \"global\"\n            }\n          },\n          \"return\": \"Promise<void>\"\n        },\n        \"docs\": {\n          \"text\": \"Present the popover overlay after it has been created.\\nDevelopers can pass a mouse, touch, or pointer event\\nto position the popover relative to where that event\\nwas dispatched.\",\n          \"tags\": []\n        }\n      },\n      \"dismiss\": {\n        \"complexType\": {\n          \"signature\": \"(data?: any, role?: string, dismissParentPopover?: boolean) => Promise<boolean>\",\n          \"parameters\": [{\n              \"tags\": [{\n                  \"name\": \"param\",\n                  \"text\": \"data Any data to emit in the dismiss events.\"\n                }],\n              \"text\": \"Any data to emit in the dismiss events.\"\n            }, {\n              \"tags\": [{\n                  \"name\": \"param\",\n                  \"text\": \"role The role of the element that is dismissing the popover. For example, 'cancel' or 'backdrop'.\"\n                }],\n              \"text\": \"The role of the element that is dismissing the popover. For example, 'cancel' or 'backdrop'.\"\n            }, {\n              \"tags\": [{\n                  \"name\": \"param\",\n                  \"text\": \"dismissParentPopover If `true`, dismissing this popover will also dismiss\\na parent popover if this popover is nested. Defaults to `true`.\"\n                }],\n              \"text\": \"If `true`, dismissing this popover will also dismiss\\na parent popover if this popover is nested. Defaults to `true`.\"\n            }],\n          \"references\": {\n            \"Promise\": {\n              \"location\": \"global\"\n            },\n            \"PopoverDismissOptions\": {\n              \"location\": \"global\"\n            }\n          },\n          \"return\": \"Promise<boolean>\"\n        },\n        \"docs\": {\n          \"text\": \"Dismiss the popover overlay after it has been presented.\",\n          \"tags\": [{\n              \"name\": \"param\",\n              \"text\": \"data Any data to emit in the dismiss events.\"\n            }, {\n              \"name\": \"param\",\n              \"text\": \"role The role of the element that is dismissing the popover. For example, 'cancel' or 'backdrop'.\"\n            }, {\n              \"name\": \"param\",\n              \"text\": \"dismissParentPopover If `true`, dismissing this popover will also dismiss\\na parent popover if this popover is nested. Defaults to `true`.\"\n            }]\n        }\n      },\n      \"getParentPopover\": {\n        \"complexType\": {\n          \"signature\": \"() => Promise<HTMLIonPopoverElement | null>\",\n          \"parameters\": [],\n          \"references\": {\n            \"Promise\": {\n              \"location\": \"global\"\n            },\n            \"HTMLIonPopoverElement\": {\n              \"location\": \"global\"\n            }\n          },\n          \"return\": \"Promise<HTMLIonPopoverElement | null>\"\n        },\n        \"docs\": {\n          \"text\": \"\",\n          \"tags\": [{\n              \"name\": \"internal\",\n              \"text\": undefined\n            }]\n        }\n      },\n      \"onDidDismiss\": {\n        \"complexType\": {\n          \"signature\": \"<T = any>() => Promise<OverlayEventDetail<T>>\",\n          \"parameters\": [],\n          \"references\": {\n            \"Promise\": {\n              \"location\": \"global\"\n            },\n            \"OverlayEventDetail\": {\n              \"location\": \"import\",\n              \"path\": \"../../interface\"\n            },\n            \"T\": {\n              \"location\": \"global\"\n            }\n          },\n          \"return\": \"Promise<OverlayEventDetail<T>>\"\n        },\n        \"docs\": {\n          \"text\": \"Returns a promise that resolves when the popover did dismiss.\",\n          \"tags\": []\n        }\n      },\n      \"onWillDismiss\": {\n        \"complexType\": {\n          \"signature\": \"<T = any>() => Promise<OverlayEventDetail<T>>\",\n          \"parameters\": [],\n          \"references\": {\n            \"Promise\": {\n              \"location\": \"global\"\n            },\n            \"OverlayEventDetail\": {\n              \"location\": \"import\",\n              \"path\": \"../../interface\"\n            },\n            \"T\": {\n              \"location\": \"global\"\n            }\n          },\n          \"return\": \"Promise<OverlayEventDetail<T>>\"\n        },\n        \"docs\": {\n          \"text\": \"Returns a promise that resolves when the popover will dismiss.\",\n          \"tags\": []\n        }\n      }\n    };\n  }\n  static get elementRef() { return \"el\"; }\n  static get watchers() {\n    return [{\n        \"propName\": \"trigger\",\n        \"methodName\": \"onTriggerChange\"\n      }, {\n        \"propName\": \"triggerAction\",\n        \"methodName\": \"onTriggerChange\"\n      }, {\n        \"propName\": \"isOpen\",\n        \"methodName\": \"onIsOpenChange\"\n      }];\n  }\n}\nconst LIFECYCLE_MAP = {\n  ionPopoverDidPresent: 'ionViewDidEnter',\n  ionPopoverWillPresent: 'ionViewWillEnter',\n  ionPopoverWillDismiss: 'ionViewWillLeave',\n  ionPopoverDidDismiss: 'ionViewDidLeave',\n};\nlet popoverIds = 0;\n"],"mappings":"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"}