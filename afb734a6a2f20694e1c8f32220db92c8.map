{"version":3,"names":["raulToastCss","Math","sign","n","TimeAgo","addLocale","en","timeAgo","RaulToast","class_1","hostRef","this","severity","actions","refreshKey","hidden","prototype","componentWillLoad","_this","timeout","timeoutTimer","window","setTimeout","timedOut","emit","dismiss","timeoutStartedAt","Date","getTime","createdAt","refreshTimer","setInterval","disconnectedCallback","clearTimeout","clearInterval","handleMouseenter","timeoutLeft","timeoutPausedAt","handleMouseleave","animationDuration","parseFloat","getComputedStyle","toastEl","el","remove","createdAtTimeAgo","format","emitToastAction","e","label","stopPropagation","toastAction","render","h","class","avatar","ref","read","origin","type","onClick","icon","src","heading","truncate","body","meta","map","action","text"],"sources":["node_modules/@realpage/raul3/collection/components/elements/raul-snackbar/raul-toaster/raul-toast/raul-toast.css?tag=raul-toast","node_modules/@realpage/raul3/collection/components/elements/raul-snackbar/raul-toaster/raul-toast/raul-toast.js"],"sourcesContent":["raul-toast {\n  display: block;\n}\n\nraul-toast .r-toast {\n  background-color: #fff;\n  width: 22.5rem;\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n  margin-top: 1rem;\n  box-shadow: 0 8px 16px 0 rgba(82, 97, 115, 0.18);\n  position: relative;\n  overflow: hidden;\n  opacity: 1;\n  -webkit-animation: slideIn 1s;\n  animation: slideIn 1s;\n}\n\nraul-toast .r-toast__header {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 0.25rem;\n  font-size: 0.75rem;\n  position: relative;\n}\n\nraul-toast .r-toast__header--read {\n  padding-left: 1rem;\n}\n\nraul-toast .r-toast__origin, raul-toast .r-toast__timestamp {\n  font-size: 0.75rem;\n}\n\nraul-toast .r-toast__timestamp {\n  color: #9BA3A7;\n  transition: opacity 0.35s linear;\n}\n\nraul-toast .r-toast__timestamp::first-letter {\n  text-transform: capitalize;\n}\n\nraul-toast .r-toast__body {\n  display: flex;\n  margin-top: 0.25rem;\n}\n\nraul-toast .r-toast__avatar {\n  width: 3rem;\n  height: 3rem;\n  margin-right: 1rem;\n}\n\nraul-toast .r-toast__avatar img {\n  width: 100%;\n  height: auto;\n}\n\nraul-toast .r-toast__dismiss {\n  color: #C6CCD0;\n  font-size: 1.375rem;\n  line-height: 1;\n  display: block;\n  position: absolute;\n  right: 0;\n  top: -4px;\n  opacity: 0;\n  cursor: pointer;\n  transition: opacity 0.35s linear;\n}\n\nraul-toast .r-toast__content {\n  flex: 1 1 0%;\n  min-width: 0;\n}\n\nraul-toast .r-toast__title {\n  font-size: 0.875rem;\n  font-weight: 600;\n  line-height: 1.25;\n  margin-bottom: 0.5rem;\n  margin-bottom: 0;\n}\n\nraul-toast .r-toast__priority {\n  font-size: 0.75rem;\n  display: inline-block;\n  margin-top: 0.25rem;\n  font-weight: 500;\n  padding: 3px 6px;\n  color: #D01A1F;\n  background-color: #FAE8E9;\n}\n\nraul-toast .r-toast__meta {\n  font-size: 0.75rem;\n  color: #9BA3A7;\n  font-style: italic;\n}\n\nraul-toast .r-toast__footer {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n}\n\nraul-toast .r-toast__action {\n  color: #0076CC;\n  text-align: right;\n  font-weight: 500;\n  text-transform: uppercase;\n  margin-top: 0.25rem;\n  margin-left: 0.75rem;\n}\n\nraul-toast .r-toast__action:hover {\n  text-decoration: underline;\n}\n\nraul-toast .r-toast__status-wrapper {\n  padding-top: 0.25rem;\n  padding-bottom: 0.25rem;\n  margin-right: 0.5rem;\n}\n\nraul-toast .r-toast__status {\n  width: 9px;\n  height: 9px;\n  border-radius: 50%;\n}\n\nraul-toast .r-toast__status--unread {\n  background: color(lit);\n}\n\nraul-toast .r-toast--has-avatar .r-toast__header {\n  margin-left: 4rem;\n}\n\nraul-toast .r-toast--hidden {\n  -webkit-animation: slideOut 1s;\n  animation: slideOut 1s;\n}\n\n@media (max-width: 640px) {\n  raul-toast .r-toast {\n    width: 100%;\n  }\n}\n\nraul-toast .r-toast:hover .r-toast__timestamp {\n  opacity: 0;\n}\n\nraul-toast .r-toast:hover .r-toast__dismiss {\n  opacity: 1;\n}\n\n@-webkit-keyframes slideIn {\n  from {\n    opacity: 0;\n    transform: translate(100%, -10px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translate(0, 0);\n  }\n}\n\n@keyframes slideIn {\n  from {\n    opacity: 0;\n    transform: translate(100%, -10px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translate(0, 0);\n  }\n}\n\n@-webkit-keyframes slideOut {\n  from {\n    opacity: 1;\n    transform: translate(0, 0);\n  }\n\n  to {\n    opacity: 0;\n    transform: translate(100%, -10px);\n  }\n}\n\n@keyframes slideOut {\n  from {\n    opacity: 1;\n    transform: translate(0, 0);\n  }\n\n  to {\n    opacity: 0;\n    transform: translate(100%, -10px);\n  }\n}","import { h } from \"@stencil/core\";\r\nimport TimeAgo from 'javascript-time-ago';\r\nimport en from 'javascript-time-ago/locale/en';\r\n// Polyfill for javascript-time-ago / IE11\r\nif (!Math.sign) {\r\n    Math.sign = (n) => {\r\n        return ((n > 0) - (n < 0)) || +n;\r\n    };\r\n}\r\nTimeAgo.addLocale(en);\r\nconst timeAgo = new TimeAgo('en-US');\r\nexport class RaulToast {\r\n    constructor() {\r\n        this.severity = null;\r\n        this.actions = null;\r\n        this.refreshKey = 0;\r\n        this.hidden = false;\r\n    }\r\n    componentWillLoad() {\r\n        // Initialize self-destruct mechanism\r\n        if (this.timeout) {\r\n            this.timeoutTimer = window.setTimeout(() => {\r\n                this.timedOut.emit();\r\n                this.dismiss();\r\n            }, this.timeout);\r\n            this.timeoutStartedAt = new Date().getTime();\r\n        }\r\n        // Save timestamp at moment of creation\r\n        this.createdAt = new Date();\r\n        // Re-render component every 1 minute (to update timestamp)\r\n        this.refreshTimer = window.setInterval(() => {\r\n            this.refreshKey = this.refreshKey + 1;\r\n        }, 60000);\r\n    }\r\n    disconnectedCallback() {\r\n        clearTimeout(this.timeoutTimer);\r\n        clearInterval(this.refreshTimer);\r\n    }\r\n    handleMouseenter() {\r\n        if (this.timeout) {\r\n            const timeout = this.timeoutLeft ? this.timeoutLeft : this.timeout;\r\n            const timeoutPausedAt = new Date().getTime();\r\n            this.timeoutLeft = timeout - (timeoutPausedAt - this.timeoutStartedAt);\r\n            clearTimeout(this.timeoutTimer);\r\n        }\r\n    }\r\n    handleMouseleave() {\r\n        if (this.timeout) {\r\n            this.timeoutTimer = window.setTimeout(() => {\r\n                this.timedOut.emit();\r\n                this.dismiss();\r\n            }, this.timeoutLeft);\r\n            this.timeoutStartedAt = new Date().getTime();\r\n        }\r\n    }\r\n    async dismiss() {\r\n        this.hidden = true;\r\n        const animationDuration = parseFloat(window.getComputedStyle(this.toastEl).animationDuration) * 1000;\r\n        setTimeout(() => this.el.remove(), animationDuration);\r\n    }\r\n    createdAtTimeAgo() {\r\n        return timeAgo.format(this.createdAt);\r\n    }\r\n    emitToastAction(e, label) {\r\n        e.stopPropagation();\r\n        this.toastAction.emit(label);\r\n    }\r\n    render() {\r\n        return (h(\"div\", { class: {\r\n                'r-toast': true,\r\n                'r-toast--has-avatar': !!this.avatar,\r\n                'r-toast--hidden': this.hidden\r\n            }, ref: el => this.toastEl = el },\r\n            h(\"div\", { class: {\r\n                    'r-toast__header': true,\r\n                    'r-toast__header--read': this.read,\r\n                } },\r\n                h(\"div\", { class: \"r-toast__origin\" }, this.origin),\r\n                h(\"div\", { class: \"r-toast__timestamp\" }, this.createdAtTimeAgo()),\r\n                h(\"button\", { type: \"button\", class: \"r-toast__dismiss\", onClick: (e) => this.emitToastAction(e, 'dismiss') },\r\n                    h(\"raul-icon\", { icon: \"arrow-right-1\" }))),\r\n            h(\"div\", { class: \"r-toast__body\" },\r\n                this.avatar &&\r\n                    h(\"div\", { class: \"r-toast__avatar\" },\r\n                        h(\"img\", { src: this.avatar })),\r\n                this.read &&\r\n                    h(\"div\", { class: \"r-toast__status-wrapper\" },\r\n                        h(\"div\", { class: {\r\n                                'r-toast__status': true,\r\n                                'r-toast__status--unread': true,\r\n                            } })),\r\n                h(\"div\", { class: \"r-toast__content\" },\r\n                    h(\"div\", { class: \"r-toast__title\" }, this.heading),\r\n                    h(\"div\", { class: {\r\n                            'r-toast__text': true,\r\n                            'truncate': this.read\r\n                        } }, this.body),\r\n                    h(\"div\", { class: \"r-toast__meta\" }, this.meta),\r\n                    this.severity && this.severity === \"High\" &&\r\n                        h(\"div\", { class: \"r-toast__priority\" }, this.severity))),\r\n            h(\"div\", { class: \"r-toast__footer\" }, this.actions && this.actions.map((action) => h(\"button\", { type: \"button\", class: \"r-toast__action\", onClick: (e) => this.emitToastAction(e, action.label) }, action.text)))));\r\n    }\r\n    static get is() { return \"raul-toast\"; }\r\n    static get originalStyleUrls() { return {\r\n        \"$\": [\"raul-toast.scss\"]\r\n    }; }\r\n    static get styleUrls() { return {\r\n        \"$\": [\"raul-toast.css\"]\r\n    }; }\r\n    static get properties() { return {\r\n        \"timeout\": {\r\n            \"type\": \"number\",\r\n            \"mutable\": false,\r\n            \"complexType\": {\r\n                \"original\": \"number\",\r\n                \"resolved\": \"number\",\r\n                \"references\": {}\r\n            },\r\n            \"required\": false,\r\n            \"optional\": false,\r\n            \"docs\": {\r\n                \"tags\": [],\r\n                \"text\": \"\"\r\n            },\r\n            \"attribute\": \"timeout\",\r\n            \"reflect\": false\r\n        },\r\n        \"avatar\": {\r\n            \"type\": \"string\",\r\n            \"mutable\": false,\r\n            \"complexType\": {\r\n                \"original\": \"string\",\r\n                \"resolved\": \"string\",\r\n                \"references\": {}\r\n            },\r\n            \"required\": false,\r\n            \"optional\": false,\r\n            \"docs\": {\r\n                \"tags\": [],\r\n                \"text\": \"\"\r\n            },\r\n            \"attribute\": \"avatar\",\r\n            \"reflect\": false\r\n        },\r\n        \"origin\": {\r\n            \"type\": \"string\",\r\n            \"mutable\": false,\r\n            \"complexType\": {\r\n                \"original\": \"string\",\r\n                \"resolved\": \"string\",\r\n                \"references\": {}\r\n            },\r\n            \"required\": false,\r\n            \"optional\": false,\r\n            \"docs\": {\r\n                \"tags\": [],\r\n                \"text\": \"\"\r\n            },\r\n            \"attribute\": \"origin\",\r\n            \"reflect\": false\r\n        },\r\n        \"heading\": {\r\n            \"type\": \"string\",\r\n            \"mutable\": false,\r\n            \"complexType\": {\r\n                \"original\": \"string\",\r\n                \"resolved\": \"string\",\r\n                \"references\": {}\r\n            },\r\n            \"required\": false,\r\n            \"optional\": false,\r\n            \"docs\": {\r\n                \"tags\": [],\r\n                \"text\": \"\"\r\n            },\r\n            \"attribute\": \"heading\",\r\n            \"reflect\": false\r\n        },\r\n        \"body\": {\r\n            \"type\": \"string\",\r\n            \"mutable\": false,\r\n            \"complexType\": {\r\n                \"original\": \"string\",\r\n                \"resolved\": \"string\",\r\n                \"references\": {}\r\n            },\r\n            \"required\": false,\r\n            \"optional\": false,\r\n            \"docs\": {\r\n                \"tags\": [],\r\n                \"text\": \"\"\r\n            },\r\n            \"attribute\": \"body\",\r\n            \"reflect\": false\r\n        },\r\n        \"meta\": {\r\n            \"type\": \"string\",\r\n            \"mutable\": false,\r\n            \"complexType\": {\r\n                \"original\": \"string\",\r\n                \"resolved\": \"string\",\r\n                \"references\": {}\r\n            },\r\n            \"required\": false,\r\n            \"optional\": false,\r\n            \"docs\": {\r\n                \"tags\": [],\r\n                \"text\": \"\"\r\n            },\r\n            \"attribute\": \"meta\",\r\n            \"reflect\": false\r\n        },\r\n        \"read\": {\r\n            \"type\": \"boolean\",\r\n            \"mutable\": false,\r\n            \"complexType\": {\r\n                \"original\": \"boolean\",\r\n                \"resolved\": \"boolean\",\r\n                \"references\": {}\r\n            },\r\n            \"required\": false,\r\n            \"optional\": false,\r\n            \"docs\": {\r\n                \"tags\": [],\r\n                \"text\": \"\"\r\n            },\r\n            \"attribute\": \"read\",\r\n            \"reflect\": false\r\n        },\r\n        \"severity\": {\r\n            \"type\": \"string\",\r\n            \"mutable\": false,\r\n            \"complexType\": {\r\n                \"original\": \"string\",\r\n                \"resolved\": \"string\",\r\n                \"references\": {}\r\n            },\r\n            \"required\": false,\r\n            \"optional\": false,\r\n            \"docs\": {\r\n                \"tags\": [],\r\n                \"text\": \"\"\r\n            },\r\n            \"attribute\": \"severity\",\r\n            \"reflect\": false,\r\n            \"defaultValue\": \"null\"\r\n        },\r\n        \"actions\": {\r\n            \"type\": \"unknown\",\r\n            \"mutable\": false,\r\n            \"complexType\": {\r\n                \"original\": \"Array<any>\",\r\n                \"resolved\": \"any[]\",\r\n                \"references\": {\r\n                    \"Array\": {\r\n                        \"location\": \"global\"\r\n                    }\r\n                }\r\n            },\r\n            \"required\": false,\r\n            \"optional\": false,\r\n            \"docs\": {\r\n                \"tags\": [],\r\n                \"text\": \"\"\r\n            },\r\n            \"defaultValue\": \"null\"\r\n        }\r\n    }; }\r\n    static get states() { return {\r\n        \"createdAt\": {},\r\n        \"refreshKey\": {},\r\n        \"hidden\": {}\r\n    }; }\r\n    static get events() { return [{\r\n            \"method\": \"timedOut\",\r\n            \"name\": \"timedOut\",\r\n            \"bubbles\": true,\r\n            \"cancelable\": true,\r\n            \"composed\": true,\r\n            \"docs\": {\r\n                \"tags\": [],\r\n                \"text\": \"\"\r\n            },\r\n            \"complexType\": {\r\n                \"original\": \"any\",\r\n                \"resolved\": \"any\",\r\n                \"references\": {}\r\n            }\r\n        }, {\r\n            \"method\": \"toastAction\",\r\n            \"name\": \"toastAction\",\r\n            \"bubbles\": true,\r\n            \"cancelable\": true,\r\n            \"composed\": true,\r\n            \"docs\": {\r\n                \"tags\": [],\r\n                \"text\": \"\"\r\n            },\r\n            \"complexType\": {\r\n                \"original\": \"any\",\r\n                \"resolved\": \"any\",\r\n                \"references\": {}\r\n            }\r\n        }]; }\r\n    static get methods() { return {\r\n        \"dismiss\": {\r\n            \"complexType\": {\r\n                \"signature\": \"() => Promise<void>\",\r\n                \"parameters\": [],\r\n                \"references\": {\r\n                    \"Promise\": {\r\n                        \"location\": \"global\"\r\n                    }\r\n                },\r\n                \"return\": \"Promise<void>\"\r\n            },\r\n            \"docs\": {\r\n                \"text\": \"\",\r\n                \"tags\": []\r\n            }\r\n        }\r\n    }; }\r\n    static get elementRef() { return \"el\"; }\r\n    static get listeners() { return [{\r\n            \"name\": \"mouseenter\",\r\n            \"method\": \"handleMouseenter\",\r\n            \"target\": undefined,\r\n            \"capture\": false,\r\n            \"passive\": true\r\n        }, {\r\n            \"name\": \"mouseleave\",\r\n            \"method\": \"handleMouseleave\",\r\n            \"target\": undefined,\r\n            \"capture\": false,\r\n            \"passive\": true\r\n        }]; }\r\n}\r\n"],"mappings":"2lDAAA,IAAMA,aAAe,mwGCIrB,IAAKC,KAAKC,KAAM,CACZD,KAAKC,KAAO,SAACC,GACT,OAASA,EAAI,IAAMA,EAAI,KAAQA,C,EAGvCC,QAAQC,UAAUC,IAClB,IAAMC,QAAU,IAAIH,QAAQ,S,IACfI,UAAS,WAClB,SAAAC,EAAAC,G,yHACIC,KAAKC,SAAW,KAChBD,KAAKE,QAAU,KACfF,KAAKG,WAAa,EAClBH,KAAKI,OAAS,K,CAElBN,EAAAO,UAAAC,kBAAA,eAAAC,EAAAP,KAEI,GAAIA,KAAKQ,QAAS,CACdR,KAAKS,aAAeC,OAAOC,YAAW,WAClCJ,EAAKK,SAASC,OACdN,EAAKO,S,GACNd,KAAKQ,SACRR,KAAKe,kBAAmB,IAAIC,MAAOC,S,CAGvCjB,KAAKkB,UAAY,IAAIF,KAErBhB,KAAKmB,aAAeT,OAAOU,aAAY,WACnCb,EAAKJ,WAAaI,EAAKJ,WAAa,C,GACrC,I,EAEPL,EAAAO,UAAAgB,qBAAA,WACIC,aAAatB,KAAKS,cAClBc,cAAcvB,KAAKmB,a,EAEvBrB,EAAAO,UAAAmB,iBAAA,WACI,GAAIxB,KAAKQ,QAAS,CACd,IAAMA,EAAUR,KAAKyB,YAAczB,KAAKyB,YAAczB,KAAKQ,QAC3D,IAAMkB,GAAkB,IAAIV,MAAOC,UACnCjB,KAAKyB,YAAcjB,GAAWkB,EAAkB1B,KAAKe,kBACrDO,aAAatB,KAAKS,a,GAG1BX,EAAAO,UAAAsB,iBAAA,eAAApB,EAAAP,KACI,GAAIA,KAAKQ,QAAS,CACdR,KAAKS,aAAeC,OAAOC,YAAW,WAClCJ,EAAKK,SAASC,OACdN,EAAKO,S,GACNd,KAAKyB,aACRzB,KAAKe,kBAAmB,IAAIC,MAAOC,S,GAGrCnB,EAAAO,UAAAS,QAAN,W,sGACId,KAAKI,OAAS,KACRwB,EAAoBC,WAAWnB,OAAOoB,iBAAiB9B,KAAK+B,SAASH,mBAAqB,IAChGjB,YAAW,WAAM,OAAAJ,EAAKyB,GAAGC,QAAR,GAAkBL,G,iBAEvC9B,EAAAO,UAAA6B,iBAAA,WACI,OAAOtC,QAAQuC,OAAOnC,KAAKkB,U,EAE/BpB,EAAAO,UAAA+B,gBAAA,SAAgBC,EAAGC,GACfD,EAAEE,kBACFvC,KAAKwC,YAAY3B,KAAKyB,E,EAE1BxC,EAAAO,UAAAoC,OAAA,eAAAlC,EAAAP,KACI,OAAQ0C,EAAE,MAAO,CAAEC,MAAO,CAClB,UAAW,KACX,wBAAyB3C,KAAK4C,OAC9B,kBAAmB5C,KAAKI,QACzByC,IAAK,SAAAb,GAAM,OAAAzB,EAAKwB,QAAUC,CAAf,GACdU,EAAE,MAAO,CAAEC,MAAO,CACV,kBAAmB,KACnB,wBAAyB3C,KAAK8C,OAElCJ,EAAE,MAAO,CAAEC,MAAO,mBAAqB3C,KAAK+C,QAC5CL,EAAE,MAAO,CAAEC,MAAO,sBAAwB3C,KAAKkC,oBAC/CQ,EAAE,SAAU,CAAEM,KAAM,SAAUL,MAAO,mBAAoBM,QAAS,SAACZ,GAAM,OAAA9B,EAAK6B,gBAAgBC,EAAG,UAAxB,GACrEK,EAAE,YAAa,CAAEQ,KAAM,oBAC/BR,EAAE,MAAO,CAAEC,MAAO,iBACd3C,KAAK4C,QACDF,EAAE,MAAO,CAAEC,MAAO,mBACdD,EAAE,MAAO,CAAES,IAAKnD,KAAK4C,UAC7B5C,KAAK8C,MACDJ,EAAE,MAAO,CAAEC,MAAO,2BACdD,EAAE,MAAO,CAAEC,MAAO,CACV,kBAAmB,KACnB,0BAA2B,SAE3CD,EAAE,MAAO,CAAEC,MAAO,oBACdD,EAAE,MAAO,CAAEC,MAAO,kBAAoB3C,KAAKoD,SAC3CV,EAAE,MAAO,CAAEC,MAAO,CACV,gBAAiB,KACjBU,SAAYrD,KAAK8C,OAChB9C,KAAKsD,MACdZ,EAAE,MAAO,CAAEC,MAAO,iBAAmB3C,KAAKuD,MAC1CvD,KAAKC,UAAYD,KAAKC,WAAa,QAC/ByC,EAAE,MAAO,CAAEC,MAAO,qBAAuB3C,KAAKC,YAC1DyC,EAAE,MAAO,CAAEC,MAAO,mBAAqB3C,KAAKE,SAAWF,KAAKE,QAAQsD,KAAI,SAACC,GAAW,OAAAf,EAAE,SAAU,CAAEM,KAAM,SAAUL,MAAO,kBAAmBM,QAAS,SAACZ,GAAM,OAAA9B,EAAK6B,gBAAgBC,EAAGoB,EAAOnB,MAA/B,GAAyCmB,EAAOC,KAAxH,K,gIAzF1E,G"}