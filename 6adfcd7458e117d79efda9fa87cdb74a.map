{"version":3,"names":["raulDropdownMenuCss","RaulDropdownMenu","class_1","hostRef","_this","this","open","top","right","openMutated","dividers","emphasizeFinal","color","disabled","handleToggleClick","handleKeyDown","e","key","handleMenuItemClick","payload","optionSelected","emit","handleMenuItemBlur","requestAnimationFrame","length","dropdown","querySelectorAll","target","document","activeElement","handleEscape","includes","toggle","focus","prototype","componentDidLoad","window","addEventListener","contains","handleOpenChange","newValue","oldValue","componentDidRender","checkViewportCollision","rect","getBoundingClientRect","bottom","innerHeight","width","closeMenu","render","h","class","onKeyDown","onClick","role","tabIndex","ref","el","tabindex","name","items","map","item","MenuItem","Object","assign","onBlurCallback","onClickCallback"],"sources":["node_modules/@realpage/raul3/collection/components/shared/raul-dropdown-menu/raul-dropdown-menu.css?tag=raul-dropdown-menu","node_modules/@realpage/raul3/collection/components/shared/raul-dropdown-menu/raul-dropdown-menu.js"],"sourcesContent":["raul-dropdown-menu .r-dropdown-menu {\n  opacity: 1;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  position: relative;\n  display: inline-block;\n}\n\nraul-dropdown-menu .r-dropdown-menu .r-dropdown-menu__toggle {\n  position: relative;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n}\n\nraul-dropdown-menu .r-dropdown-menu .r-dropdown-menu__toggle:focus {\n  outline: none;\n}\n\nraul-dropdown-menu .r-dropdown-menu .r-dropdown-menu__toggle:focus .r-dropdown-menu__toggle__focus-utility {\n  outline: 1px solid #0076CC;\n}\n\nraul-dropdown-menu .r-dropdown-menu .r-dropdown-menu__toggle .r-dropdown-menu__toggle__focus-utility {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\nraul-dropdown-menu .r-dropdown-menu .r-dropdown-menu__toggle .r-dropdown-menu__toggle__focus-utility:focus {\n  outline: none;\n}\n\nraul-dropdown-menu .r-dropdown-menu .r-dropdown-menu__dropdown {\n  position: absolute;\n  display: none;\n  border-radius: 0.125rem;\n  box-shadow: 0 8px 16px 0 rgba(82, 97, 115, 0.18);\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  background-color: #fff;\n  max-width: 180px;\n  z-index: 2000;\n}\n\nraul-dropdown-menu .r-dropdown-menu .r-dropdown-menu__dropdown--show {\n  display: flex;\n  flex-direction: column;\n}\n\nraul-dropdown-menu .r-dropdown-menu .r-dropdown-menu__dropdown--default {\n  top: 32px;\n  right: 0px;\n  left: auto;\n}\n\nraul-dropdown-menu .r-dropdown-menu .r-dropdown-menu__dropdown--top {\n  bottom: 32px;\n  right: 0px;\n  left: auto;\n}\n\nraul-dropdown-menu .r-dropdown-menu .r-dropdown-menu__dropdown--right {\n  left: 0px;\n  right: auto;\n}\n\nraul-dropdown-menu .r-dropdown-menu .r-dropdown-menu__dropdown .r-dropdown-menu__menu-item {\n  color: #37474F;\n  cursor: pointer;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  text-decoration: none;\n  min-height: 32px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: flex-start;\n  opacity: 1 !important;\n}\n\nraul-dropdown-menu .r-dropdown-menu .r-dropdown-menu__dropdown .r-dropdown-menu__menu-item .r-dropdown-menu-item__focus-utility {\n  border-width: 1px;\n  border-color: transparent;\n  width: 100%;\n  min-height: 32px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n}\n\nraul-dropdown-menu .r-dropdown-menu .r-dropdown-menu__dropdown .r-dropdown-menu__menu-item .r-dropdown-menu-item__focus-utility:focus {\n  outline: none;\n}\n\nraul-dropdown-menu .r-dropdown-menu .r-dropdown-menu__dropdown .r-dropdown-menu__menu-item .r-dropdown-menu-item__focus-utility .r-dropdown-menu__menu-item__label {\n  color: #37474F;\n  opacity: 1 !important;\n}\n\nraul-dropdown-menu .r-dropdown-menu .r-dropdown-menu__dropdown .r-dropdown-menu__menu-item .r-dropdown-menu-item__focus-utility .r-dropdown-menu__menu-item__label:hover {\n  text-decoration: underline;\n}\n\nraul-dropdown-menu .r-dropdown-menu .r-dropdown-menu__dropdown .r-dropdown-menu__menu-item:focus {\n  outline: none;\n}\n\nraul-dropdown-menu .r-dropdown-menu .r-dropdown-menu__dropdown .r-dropdown-menu__menu-item:focus .r-dropdown-menu-item__focus-utility {\n  border-width: 1px;\n  border-color: #0076CC;\n}\n\nraul-dropdown-menu .r-dropdown-menu .r-dropdown-menu__dropdown .r-dropdown-menu__menu-item .r-dropdown-menu__menu-item__container {\n  color: #37474F;\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n}\n\nraul-dropdown-menu .r-dropdown-menu .r-dropdown-menu__dropdown .r-dropdown-menu__menu-item .r-dropdown-menu__menu-item__container .r-dropdown-menu__menu-item__label {\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n  line-height: 18px !important;\n  font-size: 12px !important;\n  text-transform: capitalize;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\nraul-dropdown-menu .r-dropdown-menu .r-dropdown-menu__dropdown .r-dropdown-menu__menu-item--disabled {\n  pointer-events: none;\n}\n\nraul-dropdown-menu .r-dropdown-menu .r-dropdown-menu__dropdown .r-dropdown-menu__menu-item--disabled .r-dropdown-menu__menu-item__label {\n  color: #9BA3A7 !important;\n}\n\nraul-dropdown-menu .r-dropdown-menu .r-dropdown-menu__dropdown .r-dropdown-menu__menu-item--disabled:focus {\n  outline: none;\n}\n\nraul-dropdown-menu .r-dropdown-menu--color-active .r-dropdown-menu__menu-item__container {\n  color: #0076CC;\n}\n\nraul-dropdown-menu .r-dropdown-menu--emphasize-final raul-action-menu-item:last-child .r-dropdown-menu__menu-item::before {\n  border-top-width: 1px;\n  border-color: #F7F8F9;\n  margin-top: 0.5rem;\n  margin-bottom: 0.5rem;\n  content: \"\";\n  display: block;\n  width: 100%;\n}\n\nraul-dropdown-menu .r-dropdown-menu--dividers .r-dropdown-menu__dropdown {\n  padding: 0;\n}\n\nraul-dropdown-menu .r-dropdown-menu--dividers .r-dropdown-menu__dropdown .r-dropdown-menu__menu-item {\n  border-bottom-width: 1px;\n  border-color: #F7F8F9;\n}\n\nraul-dropdown-menu .r-dropdown-menu--dividers .r-dropdown-menu__dropdown .r-dropdown-menu__menu-item:last-child {\n  border-bottom: none;\n}","import { h } from \"@stencil/core\";\r\nimport { MenuItem } from './MenuItem';\r\nexport class RaulDropdownMenu {\r\n    constructor() {\r\n        this.open = false;\r\n        this.top = false;\r\n        this.right = false;\r\n        this.openMutated = false;\r\n        this.dividers = false;\r\n        this.emphasizeFinal = false;\r\n        this.color = 'primary';\r\n        this.disabled = false;\r\n        this.handleToggleClick = () => {\r\n            this.open = !this.open;\r\n        };\r\n        this.handleKeyDown = e => {\r\n            if (e.key === 'Enter')\r\n                this.open = !this.open;\r\n        };\r\n        this.handleMenuItemClick = payload => {\r\n            this.optionSelected.emit(payload);\r\n        };\r\n        this.handleMenuItemBlur = (e) => {\r\n            requestAnimationFrame(() => {\r\n                let length = this.dropdown.querySelectorAll('.r-dropdown-menu__menu-item').length;\r\n                if ((e.target === this.dropdown.querySelectorAll('.r-dropdown-menu__menu-item')[length - 1])\r\n                    &&\r\n                        (document.activeElement !== this.dropdown.querySelectorAll('.r-dropdown-menu__menu-item')[length - 2])) {\r\n                    this.open = false;\r\n                }\r\n            });\r\n        };\r\n        this.handleEscape = e => {\r\n            if (['Escape', 'Esc'].includes(e.key)) {\r\n                this.open = false;\r\n                this.toggle.focus();\r\n            }\r\n        };\r\n    }\r\n    componentDidLoad() {\r\n        window.addEventListener('click', (e) => {\r\n            // @ts-ignore\r\n            if (this.open && !this.dropdown.contains(e.target) && !this.toggle.contains(e.target)) {\r\n                this.open = false;\r\n            }\r\n        }, true); // third argument is capture\r\n    }\r\n    handleOpenChange(newValue, oldValue) {\r\n        if (newValue && !oldValue) {\r\n            this.openMutated = true;\r\n        }\r\n        if (!newValue) {\r\n            this.top = false;\r\n            this.right = false;\r\n        }\r\n    }\r\n    componentDidRender() {\r\n        if (this.open && this.openMutated) {\r\n            this.checkViewportCollision();\r\n        }\r\n        this.openMutated = false;\r\n    }\r\n    checkViewportCollision() {\r\n        const rect = this.dropdown.getBoundingClientRect();\r\n        this.top = rect.bottom > window.innerHeight;\r\n        this.right = rect.right < rect.width;\r\n    }\r\n    async closeMenu() {\r\n        this.open = false;\r\n    }\r\n    render() {\r\n        return (h(\"div\", { class: {\r\n                'r-dropdown-menu': true,\r\n                'r-dropdown-menu--dividers': this.dividers,\r\n                'r-dropdown-menu--emphasize-final': this.emphasizeFinal,\r\n                'r-dropdown-menu--color-active': this.color === 'active',\r\n                'r-dropdown-menu--show': this.open\r\n            }, onKeyDown: this.handleEscape },\r\n            h(\"div\", { onClick: this.handleToggleClick, class: \"r-dropdown-menu__toggle\", role: \"button\", tabIndex: 0, onKeyDown: this.handleKeyDown, ref: el => this.toggle = el },\r\n                h(\"div\", { class: \"r-dropdown-menu__toggle__focus-utility\", tabindex: -1 },\r\n                    h(\"slot\", { name: \"toggle\" }))),\r\n            h(\"div\", { ref: el => this.dropdown = el, class: {\r\n                    'r-dropdown-menu__dropdown': true,\r\n                    'r-dropdown-menu__dropdown--show': this.open,\r\n                    'r-dropdown-menu__dropdown--default': !this.top && !this.right,\r\n                    'r-dropdown-menu__dropdown--top': this.top,\r\n                    'r-dropdown-menu__dropdown--right': this.right\r\n                } },\r\n                this.items && this.items.map(item => h(MenuItem, Object.assign({}, item, { onBlurCallback: this.handleMenuItemBlur, onClickCallback: this.handleMenuItemClick, disabled: this.disabled }))),\r\n                h(\"slot\", null))));\r\n    }\r\n    static get is() { return \"raul-dropdown-menu\"; }\r\n    static get originalStyleUrls() { return {\r\n        \"$\": [\"raul-dropdown-menu.scss\"]\r\n    }; }\r\n    static get styleUrls() { return {\r\n        \"$\": [\"raul-dropdown-menu.css\"]\r\n    }; }\r\n    static get properties() { return {\r\n        \"dividers\": {\r\n            \"type\": \"boolean\",\r\n            \"mutable\": false,\r\n            \"complexType\": {\r\n                \"original\": \"boolean\",\r\n                \"resolved\": \"boolean\",\r\n                \"references\": {}\r\n            },\r\n            \"required\": false,\r\n            \"optional\": false,\r\n            \"docs\": {\r\n                \"tags\": [],\r\n                \"text\": \"\"\r\n            },\r\n            \"attribute\": \"dividers\",\r\n            \"reflect\": false,\r\n            \"defaultValue\": \"false\"\r\n        },\r\n        \"emphasizeFinal\": {\r\n            \"type\": \"boolean\",\r\n            \"mutable\": false,\r\n            \"complexType\": {\r\n                \"original\": \"boolean\",\r\n                \"resolved\": \"boolean\",\r\n                \"references\": {}\r\n            },\r\n            \"required\": false,\r\n            \"optional\": false,\r\n            \"docs\": {\r\n                \"tags\": [],\r\n                \"text\": \"\"\r\n            },\r\n            \"attribute\": \"emphasize-final\",\r\n            \"reflect\": false,\r\n            \"defaultValue\": \"false\"\r\n        },\r\n        \"items\": {\r\n            \"type\": \"unknown\",\r\n            \"mutable\": false,\r\n            \"complexType\": {\r\n                \"original\": \"DropdownMenuItemInterface[]\",\r\n                \"resolved\": \"DropdownMenuItemInterface[]\",\r\n                \"references\": {\r\n                    \"DropdownMenuItemInterface\": {\r\n                        \"location\": \"import\",\r\n                        \"path\": \"../../../utils/interfaces\"\r\n                    }\r\n                }\r\n            },\r\n            \"required\": false,\r\n            \"optional\": true,\r\n            \"docs\": {\r\n                \"tags\": [],\r\n                \"text\": \"\"\r\n            }\r\n        },\r\n        \"color\": {\r\n            \"type\": \"string\",\r\n            \"mutable\": false,\r\n            \"complexType\": {\r\n                \"original\": \"'active' | 'primary'\",\r\n                \"resolved\": \"\\\"active\\\" | \\\"primary\\\"\",\r\n                \"references\": {}\r\n            },\r\n            \"required\": false,\r\n            \"optional\": false,\r\n            \"docs\": {\r\n                \"tags\": [],\r\n                \"text\": \"\"\r\n            },\r\n            \"attribute\": \"color\",\r\n            \"reflect\": false,\r\n            \"defaultValue\": \"'primary'\"\r\n        },\r\n        \"disabled\": {\r\n            \"type\": \"boolean\",\r\n            \"mutable\": false,\r\n            \"complexType\": {\r\n                \"original\": \"boolean\",\r\n                \"resolved\": \"boolean\",\r\n                \"references\": {}\r\n            },\r\n            \"required\": false,\r\n            \"optional\": false,\r\n            \"docs\": {\r\n                \"tags\": [],\r\n                \"text\": \"\"\r\n            },\r\n            \"attribute\": \"disabled\",\r\n            \"reflect\": false,\r\n            \"defaultValue\": \"false\"\r\n        }\r\n    }; }\r\n    static get states() { return {\r\n        \"open\": {},\r\n        \"top\": {},\r\n        \"right\": {}\r\n    }; }\r\n    static get events() { return [{\r\n            \"method\": \"optionSelected\",\r\n            \"name\": \"optionSelected\",\r\n            \"bubbles\": true,\r\n            \"cancelable\": true,\r\n            \"composed\": true,\r\n            \"docs\": {\r\n                \"tags\": [],\r\n                \"text\": \"\"\r\n            },\r\n            \"complexType\": {\r\n                \"original\": \"any\",\r\n                \"resolved\": \"any\",\r\n                \"references\": {}\r\n            }\r\n        }]; }\r\n    static get methods() { return {\r\n        \"closeMenu\": {\r\n            \"complexType\": {\r\n                \"signature\": \"() => Promise<void>\",\r\n                \"parameters\": [],\r\n                \"references\": {\r\n                    \"Promise\": {\r\n                        \"location\": \"global\"\r\n                    }\r\n                },\r\n                \"return\": \"Promise<void>\"\r\n            },\r\n            \"docs\": {\r\n                \"text\": \"\",\r\n                \"tags\": []\r\n            }\r\n        }\r\n    }; }\r\n    static get watchers() { return [{\r\n            \"propName\": \"open\",\r\n            \"methodName\": \"handleOpenChange\"\r\n        }]; }\r\n}\r\n"],"mappings":"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"}