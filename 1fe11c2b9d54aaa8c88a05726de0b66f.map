{"version":3,"names":["handleFooterFade","scrollEl","baseEl","readTask","scrollTop","maxScroll","scrollHeight","clientHeight","fadeDuration","fadeStart","distanceToStart","scale","clamp","writeTask","style","setProperty","toString","footerIosCss","footerMdCss","Footer","class_1","hostRef","_this","this","keyboardCtrl","keyboardVisible","translucent","checkCollapsibleFooter","mode","getIonMode","collapse","hasFade","destroyCollapsibleFooter","pageEl","el","closest","contentEl","findIonContent","printIonContentErrorMsg","setupFadeFooter","__awaiter","_a","getScrollElement","_b","sent","contentScrollCallback","addEventListener","prototype","componentDidLoad","componentDidUpdate","connectedCallback","createKeyboardController","keyboardOpen","disconnectedCallback","destroy","removeEventListener","undefined","render","tabs","tabBar","querySelector","h","Host","role","class","concat","slot"],"sources":["node_modules/@ionic/core/dist/collection/components/footer/footer.utils.js","node_modules/@ionic/core/dist/collection/components/footer/footer.ios.css?tag=ion-footer&mode=ios","node_modules/@ionic/core/dist/collection/components/footer/footer.md.css?tag=ion-footer&mode=md","node_modules/@ionic/core/dist/collection/components/footer/footer.js"],"sourcesContent":["/*!\n * (C) Ionic http://ionicframework.com - MIT License\n */\nimport { readTask, writeTask } from '@stencil/core';\nimport { clamp } from '../../utils/helpers';\nexport const handleFooterFade = (scrollEl, baseEl) => {\n  readTask(() => {\n    const scrollTop = scrollEl.scrollTop;\n    const maxScroll = scrollEl.scrollHeight - scrollEl.clientHeight;\n    /**\n     * Toolbar background will fade\n     * out over fadeDuration in pixels.\n     */\n    const fadeDuration = 10;\n    /**\n     * Begin fading out maxScroll - 30px\n     * from the bottom of the content.\n     * Also determine how close we are\n     * to starting the fade. If we are\n     * before the starting point, the\n     * scale value will get clamped to 0.\n     * If we are after the maxScroll (rubber\n     * band scrolling), the scale value will\n     * get clamped to 1.\n     */\n    const fadeStart = maxScroll - fadeDuration;\n    const distanceToStart = scrollTop - fadeStart;\n    const scale = clamp(0, 1 - distanceToStart / fadeDuration, 1);\n    writeTask(() => {\n      baseEl.style.setProperty('--opacity-scale', scale.toString());\n    });\n  });\n};\n","ion-footer {\n  display: block;\n  position: relative;\n  order: 1;\n  width: 100%;\n  z-index: 10;\n}\n\nion-footer.footer-toolbar-padding ion-toolbar:last-of-type {\n  padding-bottom: var(--ion-safe-area-bottom, 0);\n}\n\n.footer-ios ion-toolbar:first-of-type {\n  --border-width: 0.55px 0 0;\n}\n\n@supports (backdrop-filter: blur(0)) {\n  .footer-background {\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    position: absolute;\n    backdrop-filter: saturate(180%) blur(20px);\n  }\n\n  .footer-translucent-ios ion-toolbar {\n    --opacity: .8;\n  }\n}\n.footer-ios.ion-no-border ion-toolbar:first-of-type {\n  --border-width: 0;\n}\n\n.footer-collapse-fade ion-toolbar {\n  --opacity-scale: inherit;\n}","ion-footer {\n  display: block;\n  position: relative;\n  order: 1;\n  width: 100%;\n  z-index: 10;\n}\n\nion-footer.footer-toolbar-padding ion-toolbar:last-of-type {\n  padding-bottom: var(--ion-safe-area-bottom, 0);\n}\n\n.footer-md::before {\n  left: 0;\n  top: -2px;\n  bottom: auto;\n  background-position: left 0 top 0;\n  position: absolute;\n  width: 100%;\n  height: 2px;\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAHBAMAAADzDtBxAAAAD1BMVEUAAAAAAAAAAAAAAAAAAABPDueNAAAABXRSTlMUCS0gBIh/TXEAAAAaSURBVAjXYxCEAgY4UIICBmMogMsgFLtAAQCNSwXZKOdPxgAAAABJRU5ErkJggg==\");\n  background-repeat: repeat-x;\n  content: \"\";\n}\n[dir=rtl] .footer-md::before, :host-context([dir=rtl]) .footer-md::before {\n  left: unset;\n  right: unset;\n  right: 0;\n}\n\n[dir=rtl] .footer-md::before, :host-context([dir=rtl]) .footer-md::before {\n  background-position: right 0 top 0;\n}\n\n.footer-md.ion-no-border::before {\n  display: none;\n}","/*!\n * (C) Ionic http://ionicframework.com - MIT License\n */\nimport { Host, h } from '@stencil/core';\nimport { getIonMode } from '../../global/ionic-global';\nimport { findIonContent, getScrollElement, printIonContentErrorMsg } from '../../utils/content';\nimport { createKeyboardController } from '../../utils/keyboard/keyboard-controller';\nimport { handleFooterFade } from './footer.utils';\n/**\n * @virtualProp {\"ios\" | \"md\"} mode - The mode determines which platform styles to use.\n */\nexport class Footer {\n  constructor() {\n    this.keyboardCtrl = null;\n    this.keyboardVisible = false;\n    /**\n     * If `true`, the footer will be translucent.\n     * Only applies when the mode is `\"ios\"` and the device supports\n     * [`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).\n     *\n     * Note: In order to scroll content behind the footer, the `fullscreen`\n     * attribute needs to be set on the content.\n     */\n    this.translucent = false;\n    this.checkCollapsibleFooter = () => {\n      const mode = getIonMode(this);\n      if (mode !== 'ios') {\n        return;\n      }\n      const { collapse } = this;\n      const hasFade = collapse === 'fade';\n      this.destroyCollapsibleFooter();\n      if (hasFade) {\n        const pageEl = this.el.closest('ion-app,ion-page,.ion-page,page-inner');\n        const contentEl = pageEl ? findIonContent(pageEl) : null;\n        if (!contentEl) {\n          printIonContentErrorMsg(this.el);\n          return;\n        }\n        this.setupFadeFooter(contentEl);\n      }\n    };\n    this.setupFadeFooter = async (contentEl) => {\n      const scrollEl = (this.scrollEl = await getScrollElement(contentEl));\n      /**\n       * Handle fading of toolbars on scroll\n       */\n      this.contentScrollCallback = () => {\n        handleFooterFade(scrollEl, this.el);\n      };\n      scrollEl.addEventListener('scroll', this.contentScrollCallback);\n      handleFooterFade(scrollEl, this.el);\n    };\n  }\n  componentDidLoad() {\n    this.checkCollapsibleFooter();\n  }\n  componentDidUpdate() {\n    this.checkCollapsibleFooter();\n  }\n  connectedCallback() {\n    this.keyboardCtrl = createKeyboardController((keyboardOpen) => {\n      this.keyboardVisible = keyboardOpen; // trigger re-render by updating state\n    });\n  }\n  disconnectedCallback() {\n    if (this.keyboardCtrl) {\n      this.keyboardCtrl.destroy();\n    }\n  }\n  destroyCollapsibleFooter() {\n    if (this.scrollEl && this.contentScrollCallback) {\n      this.scrollEl.removeEventListener('scroll', this.contentScrollCallback);\n      this.contentScrollCallback = undefined;\n    }\n  }\n  render() {\n    const { translucent, collapse } = this;\n    const mode = getIonMode(this);\n    const tabs = this.el.closest('ion-tabs');\n    const tabBar = tabs === null || tabs === void 0 ? void 0 : tabs.querySelector(':scope > ion-tab-bar');\n    return (h(Host, { role: \"contentinfo\", class: {\n        [mode]: true,\n        // Used internally for styling\n        [`footer-${mode}`]: true,\n        [`footer-translucent`]: translucent,\n        [`footer-translucent-${mode}`]: translucent,\n        ['footer-toolbar-padding']: !this.keyboardVisible && (!tabBar || tabBar.slot !== 'bottom'),\n        [`footer-collapse-${collapse}`]: collapse !== undefined,\n      } }, mode === 'ios' && translucent && h(\"div\", { class: \"footer-background\" }), h(\"slot\", null)));\n  }\n  static get is() { return \"ion-footer\"; }\n  static get originalStyleUrls() {\n    return {\n      \"ios\": [\"footer.ios.scss\"],\n      \"md\": [\"footer.md.scss\"]\n    };\n  }\n  static get styleUrls() {\n    return {\n      \"ios\": [\"footer.ios.css\"],\n      \"md\": [\"footer.md.css\"]\n    };\n  }\n  static get properties() {\n    return {\n      \"collapse\": {\n        \"type\": \"string\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"'fade'\",\n          \"resolved\": \"\\\"fade\\\" | undefined\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Describes the scroll effect that will be applied to the footer.\\nOnly applies in iOS mode.\"\n        },\n        \"attribute\": \"collapse\",\n        \"reflect\": false\n      },\n      \"translucent\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"If `true`, the footer will be translucent.\\nOnly applies when the mode is `\\\"ios\\\"` and the device supports\\n[`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).\\n\\nNote: In order to scroll content behind the footer, the `fullscreen`\\nattribute needs to be set on the content.\"\n        },\n        \"attribute\": \"translucent\",\n        \"reflect\": false,\n        \"defaultValue\": \"false\"\n      }\n    };\n  }\n  static get states() {\n    return {\n      \"keyboardVisible\": {}\n    };\n  }\n  static get elementRef() { return \"el\"; }\n}\n"],"mappings":";;;GAKO,IAAMA,iBAAmB,SAACC,EAAUC,GACzCC,UAAS,WACP,IAAMC,EAAYH,EAASG,UAC3B,IAAMC,EAAYJ,EAASK,aAAeL,EAASM,aAKnD,IAAMC,EAAe,GAYrB,IAAMC,EAAYJ,EAAYG,EAC9B,IAAME,EAAkBN,EAAYK,EACpC,IAAME,EAAQC,MAAM,EAAG,EAAIF,EAAkBF,EAAc,GAC3DK,WAAU,WACRX,EAAOY,MAAMC,YAAY,kBAAmBJ,EAAMK,WACxD,GACA,GACA,EChCA,IAAMC,aAAe,mqBCArB,IAAMC,YAAc,g0B,ICWPC,OAAM,WACjB,SAAAC,EAAAC,GAAA,IAAAC,EAAAC,K,yBACEA,KAAKC,aAAe,KACpBD,KAAKE,gBAAkB,MASvBF,KAAKG,YAAc,MACnBH,KAAKI,uBAAyB,WAC5B,IAAMC,EAAOC,WAAWP,GACxB,GAAIM,IAAS,MAAO,CAClB,M,CAEM,IAAAE,EAAaR,EAAIQ,SACzB,IAAMC,EAAUD,IAAa,OAC7BR,EAAKU,2BACL,GAAID,EAAS,CACX,IAAME,EAASX,EAAKY,GAAGC,QAAQ,yCAC/B,IAAMC,EAAYH,EAASI,eAAeJ,GAAU,KACpD,IAAKG,EAAW,CACdE,wBAAwBhB,EAAKY,IAC7B,M,CAEFZ,EAAKiB,gBAAgBH,E,GAGzBb,KAAKgB,gBAAkB,SAAOH,GAAS,OAAAI,UAAAlB,OAAA,qB,+EACnBmB,EAAAlB,KAAgB,SAAMmB,iBAAiBN,I,OAAnDnC,EAAYwC,EAAKxC,SAAW0C,EAAAC,OAIlCrB,KAAKsB,sBAAwB,WAC3B7C,iBAAiBC,EAAUqB,EAAKY,G,EAElCjC,EAAS6C,iBAAiB,SAAUvB,KAAKsB,uBACzC7C,iBAAiBC,EAAUsB,KAAKW,I,kBAGpCd,EAAA2B,UAAAC,iBAAA,WACEzB,KAAKI,wB,EAEPP,EAAA2B,UAAAE,mBAAA,WACE1B,KAAKI,wB,EAEPP,EAAA2B,UAAAG,kBAAA,eAAA5B,EAAAC,KACEA,KAAKC,aAAe2B,0BAAyB,SAACC,GAC5C9B,EAAKG,gBAAkB2B,C,KAG3BhC,EAAA2B,UAAAM,qBAAA,WACE,GAAI9B,KAAKC,aAAc,CACrBD,KAAKC,aAAa8B,S,GAGtBlC,EAAA2B,UAAAf,yBAAA,WACE,GAAIT,KAAKtB,UAAYsB,KAAKsB,sBAAuB,CAC/CtB,KAAKtB,SAASsD,oBAAoB,SAAUhC,KAAKsB,uBACjDtB,KAAKsB,sBAAwBW,S,GAGjCpC,EAAA2B,UAAAU,OAAA,W,MACQ,IAAAd,EAA4BpB,KAA1BG,EAAWiB,EAAAjB,YAAEI,EAAQa,EAAAb,SAC7B,IAAMF,EAAOC,WAAWN,MACxB,IAAMmC,EAAOnC,KAAKW,GAAGC,QAAQ,YAC7B,IAAMwB,EAASD,IAAS,MAAQA,SAAc,OAAS,EAAIA,EAAKE,cAAc,wBAC9E,OAAQC,EAAEC,KAAM,CAAEC,KAAM,cAAeC,OAAKvB,EAAA,GACxCA,EAACb,GAAO,KAERa,EAAC,UAAAwB,OAAUrC,IAAS,KACpBa,EAAC,sBAAuBf,EACxBe,EAAC,sBAAAwB,OAAsBrC,IAASF,EAChCe,EAAC,2BAA4BlB,KAAKE,mBAAqBkC,GAAUA,EAAOO,OAAS,UACjFzB,EAAC,mBAAAwB,OAAmBnC,IAAaA,IAAa0B,U,IAC3C5B,IAAS,OAASF,GAAemC,EAAE,MAAO,CAAEG,MAAO,sBAAwBH,EAAE,OAAQ,M,gIA9E7E,G"}